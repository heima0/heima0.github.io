<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
    

    

    



    <meta charset="utf-8">
    
    
    
    <title>ES6 | 人间客栈</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#080809">
    
    
    <meta name="keywords" content="博客, 静态博客, 个人博客">
    <meta name="description" content="ES6-ES13一. 走入ES61.初识ES6 ECMAScript 6.0（以下简称 ES6）是 JavaScript 语言的下一代标准，已经在 2015 年 6 月正式发布了。它的目标，是使得 JavaScript 语言可以用来编写复杂的大型应用程序，成为企业级开发语言。   1997年：ECMAScript 1.0  1998年：ECMAScript 2.0  1999年：ECMAScrip">
<meta name="keywords" content="js">
<meta property="og:type" content="article">
<meta property="og:title" content="ES6">
<meta property="og:url" content="https://hanjinbao.cn/2022/11/12/ES6/index.html">
<meta property="og:site_name" content="人间客栈">
<meta property="og:description" content="ES6-ES13一. 走入ES61.初识ES6 ECMAScript 6.0（以下简称 ES6）是 JavaScript 语言的下一代标准，已经在 2015 年 6 月正式发布了。它的目标，是使得 JavaScript 语言可以用来编写复杂的大型应用程序，成为企业级开发语言。   1997年：ECMAScript 1.0  1998年：ECMAScript 2.0  1999年：ECMAScrip">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://hanjinbao.cn/img/es6-img/%E5%9B%9E%E8%B0%83%E5%9C%B0%E7%8B%B1.jpeg">
<meta property="og:image" content="https://hanjinbao.cn/img/es6-img/image-20220902141409899.png">
<meta property="og:image" content="https://hanjinbao.cn/img/es6-img/image-20220917070351858.png">
<meta property="og:image" content="https://hanjinbao.cn/img/es6-img/image-20220917070836171.png">
<meta property="og:image" content="https://hanjinbao.cn/img/es6-img/image-20220917071219520.png">
<meta property="og:image" content="https://hanjinbao.cn/img/es6-img/image-20220920154527417.png">
<meta property="og:image" content="https://hanjinbao.cn/img/es6-img/image-20220920154622530.png">
<meta property="og:image" content="https://hanjinbao.cn/img/es6-img/image-20220920155143538.png">
<meta property="og:image" content="https://hanjinbao.cn/img/es6-img/image-20220921110518183.png">
<meta property="og:image" content="https://hanjinbao.cn/img/es6-img/image-20220921110644896.png">
<meta property="og:image" content="https://hanjinbao.cn/img/es6-img/image-20220921132030973.png">
<meta property="og:image" content="https://hanjinbao.cn/img/es6-img/image-20220921132403676.png">
<meta property="og:image" content="https://hanjinbao.cn/img/es6-img/image-20220921132528997.png">
<meta property="og:image" content="https://hanjinbao.cn/img/es6-img/image-20220922111416681.png">
<meta property="og:image" content="https://hanjinbao.cn/img/es6-img/image-20220927105243515.png">
<meta property="og:updated_time" content="2022-11-14T02:57:28.908Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ES6">
<meta name="twitter:description" content="ES6-ES13一. 走入ES61.初识ES6 ECMAScript 6.0（以下简称 ES6）是 JavaScript 语言的下一代标准，已经在 2015 年 6 月正式发布了。它的目标，是使得 JavaScript 语言可以用来编写复杂的大型应用程序，成为企业级开发语言。   1997年：ECMAScript 1.0  1998年：ECMAScript 2.0  1999年：ECMAScrip">
<meta name="twitter:image" content="https://hanjinbao.cn/img/es6-img/%E5%9B%9E%E8%B0%83%E5%9C%B0%E7%8B%B1.jpeg">
    
        <link rel="alternative" href="/atom.xml" title="人间客栈" type="application/atom+xml">
    
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="/css/style.css?v=1.4.7">
    <script>window.lazyScripts=[]</script>
</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpeg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Mr.Han</h5>
          <a href="mailto:1960944297@qq.com" title="1960944297@qq.com" class="mail">1960944297@qq.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/tags/" target="_blank" >
                <i class="icon icon-lg icon-不似人间一场雪"></i>
                不似人间一场雪
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives/"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://weibo.com/u/3788363512" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">ES6</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">ES6</h1>
        <h5 class="subtitle">
            
                <time datetime="2022-11-12T02:28:04.000Z" itemprop="datePublished" class="page-time">
  2022-11-12
</time>


            
        </h5>
    </div>

    

</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ES6-ES13"><span class="post-toc-number">1.</span> <span class="post-toc-text">ES6-ES13</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#一-走入ES6"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">一. 走入ES6</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#1-初识ES6"><span class="post-toc-number">1.1.1.</span> <span class="post-toc-text">1.初识ES6</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#2-let声明变量与const声明常量"><span class="post-toc-number">1.1.2.</span> <span class="post-toc-text">2.let声明变量与const声明常量</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#3-解构赋值"><span class="post-toc-number">1.1.3.</span> <span class="post-toc-text">3.解构赋值</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#3-1-解构对象"><span class="post-toc-number">1.1.3.1.</span> <span class="post-toc-text">3-1 解构对象</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#3-2-解构数组"><span class="post-toc-number">1.1.3.2.</span> <span class="post-toc-text">3-2 解构数组</span></a></li></ol></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#4-模版字符串"><span class="post-toc-number">1.1.4.</span> <span class="post-toc-text">4. 模版字符串</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#5-字符串扩展"><span class="post-toc-number">1.1.5.</span> <span class="post-toc-text">5.字符串扩展</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#5-1-includes函数"><span class="post-toc-number">1.1.5.1.</span> <span class="post-toc-text">5-1 includes函数</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#5-2-repeat函数"><span class="post-toc-number">1.1.5.2.</span> <span class="post-toc-text">5-2 repeat函数</span></a></li></ol></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#6-数值扩展"><span class="post-toc-number">1.1.6.</span> <span class="post-toc-text">6.数值扩展</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#6-1-二进制和八进制表示法"><span class="post-toc-number">1.1.6.1.</span> <span class="post-toc-text">6-1 二进制和八进制表示法</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#6-2-isFinite与isNaN方法"><span class="post-toc-number">1.1.6.2.</span> <span class="post-toc-text">6-2 isFinite与isNaN方法</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#6-3-isInteger方法"><span class="post-toc-number">1.1.6.3.</span> <span class="post-toc-text">6-3 isInteger方法</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#6-4-极小常量Number-EPSILON"><span class="post-toc-number">1.1.6.4.</span> <span class="post-toc-text">6-4 极小常量Number.EPSILON</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#6-5-Math-trunc"><span class="post-toc-number">1.1.6.5.</span> <span class="post-toc-text">6-5 Math.trunc</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#6-6-Math-sign"><span class="post-toc-number">1.1.6.6.</span> <span class="post-toc-text">6-6 Math.sign</span></a></li></ol></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#7-数组扩展"><span class="post-toc-number">1.1.7.</span> <span class="post-toc-text">7.数组扩展</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#7-1-扩展运算符"><span class="post-toc-number">1.1.7.1.</span> <span class="post-toc-text">7-1 扩展运算符</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#7-2-Array-from"><span class="post-toc-number">1.1.7.2.</span> <span class="post-toc-text">7-2 Array.from</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#7-3-Array-of"><span class="post-toc-number">1.1.7.3.</span> <span class="post-toc-text">7-3 Array.of</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#7-4-find方法"><span class="post-toc-number">1.1.7.4.</span> <span class="post-toc-text">7-4. find方法</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#7-5-fill方法"><span class="post-toc-number">1.1.7.5.</span> <span class="post-toc-text">7-5. fill方法</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#7-6-flat与flatMap方法"><span class="post-toc-number">1.1.7.6.</span> <span class="post-toc-text">7-6 flat与flatMap方法</span></a></li></ol></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#8-对象扩展"><span class="post-toc-number">1.1.8.</span> <span class="post-toc-text">8.对象扩展</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#8-1-对象简写"><span class="post-toc-number">1.1.8.1.</span> <span class="post-toc-text">8-1 对象简写</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#8-2-属性名表达式"><span class="post-toc-number">1.1.8.2.</span> <span class="post-toc-text">8-2 属性名表达式</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#8-3-Object-assign"><span class="post-toc-number">1.1.8.3.</span> <span class="post-toc-text">8-3 Object.assign</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#8-4-Object-is"><span class="post-toc-number">1.1.8.4.</span> <span class="post-toc-text">8-4 Object.is</span></a></li></ol></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#9-函数扩展"><span class="post-toc-number">1.1.9.</span> <span class="post-toc-text">9.函数扩展</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#9-1-箭头函数"><span class="post-toc-number">1.1.9.1.</span> <span class="post-toc-text">9-1 箭头函数</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#9-2-箭头函数的特殊性"><span class="post-toc-number">1.1.9.2.</span> <span class="post-toc-text">9-2 箭头函数的特殊性</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#9-3-函数传递参数的时候的默认值"><span class="post-toc-number">1.1.9.3.</span> <span class="post-toc-text">9-3 函数传递参数的时候的默认值</span></a></li></ol></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#10-Symbol"><span class="post-toc-number">1.1.10.</span> <span class="post-toc-text">10.Symbol</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#11-Iterator迭代器"><span class="post-toc-number">1.1.11.</span> <span class="post-toc-text">11.Iterator迭代器</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#12-Set结构"><span class="post-toc-number">1.1.12.</span> <span class="post-toc-text">12.Set结构</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#12-1-初识Set"><span class="post-toc-number">1.1.12.1.</span> <span class="post-toc-text">12-1 初识Set</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#12-2-实例的属性和方法"><span class="post-toc-number">1.1.12.2.</span> <span class="post-toc-text">12-2 实例的属性和方法</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#12-3-遍历"><span class="post-toc-number">1.1.12.3.</span> <span class="post-toc-text">12-3 遍历</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#12-4-复杂数据结构去重"><span class="post-toc-number">1.1.12.4.</span> <span class="post-toc-text">12-4 复杂数据结构去重</span></a></li></ol></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#13-Map结构"><span class="post-toc-number">1.1.13.</span> <span class="post-toc-text">13.Map结构</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#13-1-初识Map"><span class="post-toc-number">1.1.13.1.</span> <span class="post-toc-text">13-1 初识Map</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#13-2-实例的属性和方法"><span class="post-toc-number">1.1.13.2.</span> <span class="post-toc-text">13-2 实例的属性和方法</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#13-3-遍历"><span class="post-toc-number">1.1.13.3.</span> <span class="post-toc-text">13-3 遍历</span></a></li></ol></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#14-Proxy代理"><span class="post-toc-number">1.1.14.</span> <span class="post-toc-text">14.Proxy代理</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#14-1-get方法"><span class="post-toc-number">1.1.14.1.</span> <span class="post-toc-text">14-1.get方法</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#14-2-set方法"><span class="post-toc-number">1.1.14.2.</span> <span class="post-toc-text">14-2.set方法</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#14-3-has方法"><span class="post-toc-number">1.1.14.3.</span> <span class="post-toc-text">14-3.has方法</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#14-4-this问题"><span class="post-toc-number">1.1.14.4.</span> <span class="post-toc-text">14-4.this问题</span></a></li></ol></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#15-Reflect对象"><span class="post-toc-number">1.1.15.</span> <span class="post-toc-text">15.Reflect对象</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#15-1-代替Object的某些方法"><span class="post-toc-number">1.1.15.1.</span> <span class="post-toc-text">15-1 代替Object的某些方法</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#15-2-修改某些Object方法返回结果"><span class="post-toc-number">1.1.15.2.</span> <span class="post-toc-text">15-2 修改某些Object方法返回结果</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#15-3-命令式变为函数行为"><span class="post-toc-number">1.1.15.3.</span> <span class="post-toc-text">15-3 命令式变为函数行为</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#15-4-配合Proxy"><span class="post-toc-number">1.1.15.4.</span> <span class="post-toc-text">15-4 配合Proxy</span></a></li></ol></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#16-Promise"><span class="post-toc-number">1.1.16.</span> <span class="post-toc-text">16.Promise</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#16-1-回调地狱"><span class="post-toc-number">1.1.16.1.</span> <span class="post-toc-text">16-1 回调地狱</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#16-2-Promise使用"><span class="post-toc-number">1.1.16.2.</span> <span class="post-toc-text">16-2 Promise使用</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#16-3-Promise-对象的状态"><span class="post-toc-number">1.1.16.3.</span> <span class="post-toc-text">16-3 Promise 对象的状态</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#16-4-Promise-all"><span class="post-toc-number">1.1.16.4.</span> <span class="post-toc-text">16-4 Promise.all</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#16-5-Promise-race"><span class="post-toc-number">1.1.16.5.</span> <span class="post-toc-text">16-5 Promise.race</span></a></li></ol></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#17-Generator-函数"><span class="post-toc-number">1.1.17.</span> <span class="post-toc-text">17.Generator 函数</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#17-1-基本语法"><span class="post-toc-number">1.1.17.1.</span> <span class="post-toc-text">17-1 基本语法</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#17-2-异步流程"><span class="post-toc-number">1.1.17.2.</span> <span class="post-toc-text">17-2 异步流程</span></a></li></ol></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#18-Class语法"><span class="post-toc-number">1.1.18.</span> <span class="post-toc-text">18. Class语法</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#18-1-类的写法"><span class="post-toc-number">1.1.18.1.</span> <span class="post-toc-text">18-1 类的写法</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#18-2-getter与setter"><span class="post-toc-number">1.1.18.2.</span> <span class="post-toc-text">18-2 getter与setter</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#18-3-静态属性和静态方法"><span class="post-toc-number">1.1.18.3.</span> <span class="post-toc-text">18-3 静态属性和静态方法</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#18-4-继承"><span class="post-toc-number">1.1.18.4.</span> <span class="post-toc-text">18-4 继承</span></a></li></ol></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#19-模块化"><span class="post-toc-number">1.1.19.</span> <span class="post-toc-text">19.模块化</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#二-ES7新特性"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">二. ES7新特性</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#1-求幂运算符"><span class="post-toc-number">1.2.1.</span> <span class="post-toc-text">1. 求幂运算符</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#2-数组的includes方法"><span class="post-toc-number">1.2.2.</span> <span class="post-toc-text">2.数组的includes方法</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#三-ES8新特性"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">三. ES8新特性</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#1-async和await"><span class="post-toc-number">1.3.1.</span> <span class="post-toc-text">1. async和await</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#1-1-Async"><span class="post-toc-number">1.3.1.1.</span> <span class="post-toc-text">1-1.Async</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#1-2-Await"><span class="post-toc-number">1.3.1.2.</span> <span class="post-toc-text">1-2.Await</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#1-3-错误处理"><span class="post-toc-number">1.3.1.3.</span> <span class="post-toc-text">1-3.错误处理</span></a></li></ol></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#2-对象方法扩展"><span class="post-toc-number">1.3.2.</span> <span class="post-toc-text">2.对象方法扩展</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#3-字符串填充"><span class="post-toc-number">1.3.3.</span> <span class="post-toc-text">3. 字符串填充</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#4-函数参数的末尾加逗号"><span class="post-toc-number">1.3.4.</span> <span class="post-toc-text">4. 函数参数的末尾加逗号</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#四-ES9新特性"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">四. ES9新特性</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#1-对象的剩余参数与扩展运算符"><span class="post-toc-number">1.4.1.</span> <span class="post-toc-text">1. 对象的剩余参数与扩展运算符</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#1-1-对象的剩余参数"><span class="post-toc-number">1.4.1.1.</span> <span class="post-toc-text">1-1 对象的剩余参数</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#1-2-对象的扩展运算符"><span class="post-toc-number">1.4.1.2.</span> <span class="post-toc-text">1-2 对象的扩展运算符</span></a></li></ol></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#2-正则表达式命名捕获组"><span class="post-toc-number">1.4.2.</span> <span class="post-toc-text">2.正则表达式命名捕获组</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#3-Promise-finally"><span class="post-toc-number">1.4.3.</span> <span class="post-toc-text">3. Promise.finally()</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#4-异步遍历器"><span class="post-toc-number">1.4.4.</span> <span class="post-toc-text">4. 异步遍历器</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#4-1-同步遍历器的问题"><span class="post-toc-number">1.4.4.1.</span> <span class="post-toc-text">4-1 同步遍历器的问题</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#4-2-异步遍历器生成函数"><span class="post-toc-number">1.4.4.2.</span> <span class="post-toc-text">4-2 异步遍历器生成函数</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#4-3-for-await-of"><span class="post-toc-number">1.4.4.3.</span> <span class="post-toc-text">4-3 for await of</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#4-4-案例改造"><span class="post-toc-number">1.4.4.4.</span> <span class="post-toc-text">4-4 案例改造</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#4-5-nodejs用法"><span class="post-toc-number">1.4.4.5.</span> <span class="post-toc-text">4-5 nodejs用法</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#五-ES10新特性"><span class="post-toc-number">1.5.</span> <span class="post-toc-text">五.ES10新特性</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#1-Object-fromEntries"><span class="post-toc-number">1.5.1.</span> <span class="post-toc-text">1. Object.fromEntries</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#2-trimStart-and-trimEnd"><span class="post-toc-number">1.5.2.</span> <span class="post-toc-text">2. trimStart() and trimEnd()</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#3-Symbol-对象的-description-属性"><span class="post-toc-number">1.5.3.</span> <span class="post-toc-text">3. Symbol 对象的 description 属性</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#4-可选的-catch"><span class="post-toc-number">1.5.4.</span> <span class="post-toc-text">4. 可选的 catch</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#六-ES11新特性"><span class="post-toc-number">1.6.</span> <span class="post-toc-text">六. ES11新特性</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#1-Promise-allSettled"><span class="post-toc-number">1.6.1.</span> <span class="post-toc-text">1. Promise.allSettled</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#2-module新增"><span class="post-toc-number">1.6.2.</span> <span class="post-toc-text">2.module新增</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#2-1-动态导入-import"><span class="post-toc-number">1.6.2.1.</span> <span class="post-toc-text">2-1 动态导入 import()</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#2-2-import-meta"><span class="post-toc-number">1.6.2.2.</span> <span class="post-toc-text">2-2 import.meta</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#2-3-export-as-obj-from-‘module’"><span class="post-toc-number">1.6.2.3.</span> <span class="post-toc-text">2-3 export * as obj from ‘module’</span></a></li></ol></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#3-字符串的matchAll方法"><span class="post-toc-number">1.6.3.</span> <span class="post-toc-text">3.字符串的matchAll方法</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#4-BigInt"><span class="post-toc-number">1.6.4.</span> <span class="post-toc-text">4. BigInt</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#5-globalThis"><span class="post-toc-number">1.6.5.</span> <span class="post-toc-text">5. globalThis</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#6-空值合并运算符"><span class="post-toc-number">1.6.6.</span> <span class="post-toc-text">6.空值合并运算符</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#7-可选链操作符"><span class="post-toc-number">1.6.7.</span> <span class="post-toc-text">7.可选链操作符</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#七-ES12新特性"><span class="post-toc-number">1.7.</span> <span class="post-toc-text">七. ES12新特性</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#1-逻辑赋值操作符"><span class="post-toc-number">1.7.1.</span> <span class="post-toc-text">1. 逻辑赋值操作符</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#2-数字分隔符"><span class="post-toc-number">1.7.2.</span> <span class="post-toc-text">2.数字分隔符</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#3-replaceAll"><span class="post-toc-number">1.7.3.</span> <span class="post-toc-text">3. replaceAll</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#4-Promise-any"><span class="post-toc-number">1.7.4.</span> <span class="post-toc-text">4.Promise.any</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#5-WeakRef"><span class="post-toc-number">1.7.5.</span> <span class="post-toc-text">5. WeakRef</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#6-FinalizationRegistry"><span class="post-toc-number">1.7.6.</span> <span class="post-toc-text">6. FinalizationRegistry</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#八-ES13新特性"><span class="post-toc-number">1.8.</span> <span class="post-toc-text">八.ES13新特性</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#1-私有属性和方法"><span class="post-toc-number">1.8.1.</span> <span class="post-toc-text">1. 私有属性和方法</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#2-静态成员的私有属性和方法"><span class="post-toc-number">1.8.2.</span> <span class="post-toc-text">2.静态成员的私有属性和方法</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#3-静态代码块"><span class="post-toc-number">1.8.3.</span> <span class="post-toc-text">3.静态代码块</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#4-使用in来判断某个对象是否拥有某个私有属性"><span class="post-toc-number">1.8.4.</span> <span class="post-toc-text">4. 使用in来判断某个对象是否拥有某个私有属性</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#5-支持在最外层写await"><span class="post-toc-number">1.8.5.</span> <span class="post-toc-text">5.支持在最外层写await</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#6-at函数来索引元素"><span class="post-toc-number">1.8.6.</span> <span class="post-toc-text">6. at函数来索引元素</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#7-正则匹配的开始和结束索引"><span class="post-toc-number">1.8.7.</span> <span class="post-toc-text">7. 正则匹配的开始和结束索引</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#8-findLast-和findLastIndex-函数"><span class="post-toc-number">1.8.8.</span> <span class="post-toc-text">8.findLast()和findLastIndex()函数</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#9-Error对象的Cause属性"><span class="post-toc-number">1.8.9.</span> <span class="post-toc-text">9.Error对象的Cause属性</span></a></li></ol></li></ol></li></ol>
        </nav>
    </aside>
    
<article id="post-ES6"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">ES6</h1>
        <div class="post-meta">
            <time class="post-time" title="2022年11月12日 10:28" datetime="2022-11-12T02:28:04.000Z"  itemprop="datePublished">2022-11-12</time>

            


            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


            

        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h3 id="ES6-ES13"><a href="#ES6-ES13" class="headerlink" title="ES6-ES13"></a>ES6-ES13</h3><h4 id="一-走入ES6"><a href="#一-走入ES6" class="headerlink" title="一. 走入ES6"></a>一. 走入ES6</h4><h5 id="1-初识ES6"><a href="#1-初识ES6" class="headerlink" title="1.初识ES6"></a>1.初识ES6</h5><blockquote>
<p>ECMAScript 6.0（以下简称 ES6）是 JavaScript 语言的下一代标准，已经在 2015 年 6 月正式发布了。它的目标，是使得 JavaScript 语言可以用来编写复杂的大型应用程序，成为企业级开发语言。</p>
</blockquote>
<ul>
<li><p>1997年：ECMAScript 1.0</p>
</li>
<li><p>1998年：ECMAScript 2.0</p>
</li>
<li><p>1999年：ECMAScript 3.0</p>
</li>
<li><p>2006年：ECMAScript 4.0 未通过</p>
</li>
<li><p>2009年：ECMAScript 5.0</p>
</li>
<li><p>2015年：ECMAScript 6.0</p>
</li>
<li><p>至今，版本号改用年号的形式。</p>
</li>
</ul>
<h5 id="2-let声明变量与const声明常量"><a href="#2-let声明变量与const声明常量" class="headerlink" title="2.let声明变量与const声明常量"></a>2.let声明变量与const声明常量</h5><ol>
<li><p><code>let</code> 不允许重复声明变量</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用 var 的时候重复声明变量是没问题的，只不过就是后面会把前面覆盖掉</span></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">100</span></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">200</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用 let 重复声明变量的时候就会报错了</span></span><br><span class="line"><span class="keyword">let</span> num = <span class="number">100</span></span><br><span class="line"><span class="keyword">let</span> num = <span class="number">200</span> <span class="comment">// 这里就会报错了</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用 const 重复声明变量的时候就会报错</span></span><br><span class="line"><span class="keyword">const</span> num = <span class="number">100</span></span><br><span class="line"><span class="keyword">const</span> num = <span class="number">200</span> <span class="comment">// 这里就会报错了</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>let</code> 和 <code>const</code> 声明的变量不会在预解析的时候解析（也就是没有变量提升）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 因为预解析（变量提升）的原因，在前面是有这个变量的，只不过没有赋值</span></span><br><span class="line"><span class="built_in">console</span>.log(num) <span class="comment">// undefined</span></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">100</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 因为 let 不会进行预解析（变量提升），所以直接报错了</span></span><br><span class="line"><span class="built_in">console</span>.log(num) </span><br><span class="line"><span class="keyword">let</span> num = <span class="number">100</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 因为 const 不会进行预解析（变量提升），所以直接报错了</span></span><br><span class="line"><span class="built_in">console</span>.log(num) </span><br><span class="line"><span class="keyword">const</span> num = <span class="number">100</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>let</code> 和 <code>const</code> 声明的变量会被所有代码块限制作用范围</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// var 声明的变量只有函数能限制其作用域，其他的不能限制</span></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> num = <span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(num) <span class="comment">// 100</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// let 声明的变量，除了函数可以限制，所有的代码块都可以限制其作用域（if/while/for/...）</span></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> num = <span class="number">100</span></span><br><span class="line">  <span class="built_in">console</span>.log(num) <span class="comment">// 100</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(num) <span class="comment">// 报错</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// const 声明的变量，除了函数可以限制，所有的代码块都可以限制其作用域（if/while/for/...）</span></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> num = <span class="number">100</span></span><br><span class="line">  <span class="built_in">console</span>.log(num) <span class="comment">// 100</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(num) <span class="comment">// 报错</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<ul>
<li><p><code>let</code> 和 <code>const</code> 的区别</p>
<ol>
<li><p><code>let</code> 声明的变量的值可以改变，<code>const</code> 声明的变量的值不可以改变</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">100</span></span><br><span class="line">num = <span class="number">200</span></span><br><span class="line"><span class="built_in">console</span>.log(num) <span class="comment">// 200</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> num = <span class="number">100</span></span><br><span class="line">num = <span class="number">200</span> <span class="comment">// 这里就会报错了，因为 const 声明的变量值不可以改变（我们也叫做常量）</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>let</code> 声明的时候可以不赋值，<code>const</code> 声明的时候必须赋值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num</span><br><span class="line">num = <span class="number">100</span></span><br><span class="line"><span class="built_in">console</span>.log(num) <span class="comment">// 100</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> num <span class="comment">// 这里就会报错了，因为 const 声明的时候必须赋值</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
<h5 id="3-解构赋值"><a href="#3-解构赋值" class="headerlink" title="3.解构赋值"></a>3.解构赋值</h5><ul>
<li>解构赋值，就是快速的从对象或者数组中取出成员的一个语法方式</li>
</ul>
<h6 id="3-1-解构对象"><a href="#3-1-解构对象" class="headerlink" title="3-1 解构对象"></a>3-1 解构对象</h6><ul>
<li><p>快速的从对象中获取成员</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES5 的方法想得到对象中的成员</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  name: <span class="string">'miller'</span>,</span><br><span class="line">  age: <span class="number">100</span>,</span><br><span class="line">  gender: <span class="string">'男'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> name = obj.name</span><br><span class="line"><span class="keyword">let</span> age = obj.age</span><br><span class="line"><span class="keyword">let</span> gender = obj.gender</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解构赋值的方式从对象中获取成员</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  name: <span class="string">'miller'</span>,</span><br><span class="line">  age: <span class="number">100</span>,</span><br><span class="line">  gender: <span class="string">'男'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 前面的 &#123;&#125; 表示我要从 obj 这个对象中获取成员了</span></span><br><span class="line"><span class="comment">// name age gender 都得是 obj 中有的成员</span></span><br><span class="line"><span class="comment">// obj 必须是一个对象</span></span><br><span class="line"><span class="keyword">let</span> &#123; name, age, gender &#125; = obj</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h6 id="3-2-解构数组"><a href="#3-2-解构数组" class="headerlink" title="3-2 解构数组"></a>3-2 解构数组</h6><ul>
<li><p>快速的从数组中获取成员</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES5 的方式从数组中获取成员</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="string">'miller'</span>, <span class="string">'tiechui'</span>, <span class="string">'gangdan'</span>]</span><br><span class="line"><span class="keyword">let</span> a = arr[<span class="number">0</span>]</span><br><span class="line"><span class="keyword">let</span> b = arr[<span class="number">1</span>]</span><br><span class="line"><span class="keyword">let</span> c = arr[<span class="number">2</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用解构赋值的方式从数组中获取成员</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="string">'miller'</span>, <span class="string">'tiechui'</span>, <span class="string">'gangdan'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 前面的 [] 表示要从 arr 这个数组中获取成员了</span></span><br><span class="line"><span class="comment">// a b c 分别对应这数组中的索引 0 1 2</span></span><br><span class="line"><span class="comment">// arr 必须是一个数组</span></span><br><span class="line"><span class="keyword">let</span> [a, b, c] = arr</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="4-模版字符串"><a href="#4-模版字符串" class="headerlink" title="4. 模版字符串"></a>4. 模版字符串</h5><ul>
<li><p>ES5 中我们表示字符串的时候使用 <code>&#39;&#39;</code> 或者 <code>&quot;&quot;</code></p>
</li>
<li><p>在 ES6 中，我们还有一个东西可以表示字符串，就是 <strong><code></code></strong>（反引号）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">`hello world`</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> str) <span class="comment">// string</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>和单引号、双引号的区别</p>
<ol>
<li><p>反引号可以换行书写</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这个单引号或者双引号不能换行，换行就会报错了</span></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">'hello world'</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">// 下面这个就报错了</span></span><br><span class="line"><span class="keyword">let</span> str2 = <span class="string">'hello </span></span><br><span class="line"><span class="string">world'</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">`</span></span><br><span class="line"><span class="string"> hello</span></span><br><span class="line"><span class="string"> world</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(str) <span class="comment">// 是可以使用的</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>反引号可以直接在字符串里面拼接变量</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES5 需要字符串拼接变量的时候</span></span><br><span class="line"><span class="keyword">let</span> num = <span class="number">100</span></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">'hello'</span> + num + <span class="string">'world'</span> + num</span><br><span class="line"><span class="built_in">console</span>.log(str) <span class="comment">// hello100world100</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 直接写在字符串里面不好使</span></span><br><span class="line"><span class="keyword">let</span> str2 = <span class="string">'hellonumworldnum'</span></span><br><span class="line"><span class="built_in">console</span>.log(str2) <span class="comment">// hellonumworldnum</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 模版字符串拼接变量</span></span><br><span class="line"><span class="keyword">let</span> num = <span class="number">100</span></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">`hello<span class="subst">$&#123;num&#125;</span>world<span class="subst">$&#123;num&#125;</span>`</span></span><br><span class="line"><span class="built_in">console</span>.log(str) <span class="comment">// hello100world100</span></span><br></pre></td></tr></table></figure>
<ul>
<li>在 <strong><code></code></strong> 里面的 <code>${}</code> 就是用来书写变量的位置</li>
</ul>
</li>
</ol>
</li>
</ul>
<h5 id="5-字符串扩展"><a href="#5-字符串扩展" class="headerlink" title="5.字符串扩展"></a>5.字符串扩展</h5><h6 id="5-1-includes函数"><a href="#5-1-includes函数" class="headerlink" title="5-1 includes函数"></a>5-1 includes函数</h6><p>判断字符串中是否存在指定字符</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myname = <span class="string">"miller"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(myname.includes(<span class="string">"e"</span>)) <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(myname.startsWith(<span class="string">"k"</span>)) <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(myname.endsWith(<span class="string">"n"</span>)) <span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<h6 id="5-2-repeat函数"><a href="#5-2-repeat函数" class="headerlink" title="5-2 repeat函数"></a>5-2 repeat函数</h6><p>repeat()方法返回一个新字符串,表示将原字符串重复n次。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myname = <span class="string">"miller"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(myname.repeat(<span class="number">3</span>)) <span class="comment">//millermillermiller</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(myname.repeat(<span class="number">0</span>)) <span class="comment">//"" </span></span><br><span class="line"><span class="built_in">console</span>.log(myname.repeat(<span class="number">3.5</span>)) <span class="comment">//millermillermiller</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(myname.repeat(<span class="string">"3"</span>))<span class="comment">//millermillermiller</span></span><br></pre></td></tr></table></figure>
<h5 id="6-数值扩展"><a href="#6-数值扩展" class="headerlink" title="6.数值扩展"></a>6.数值扩展</h5><h6 id="6-1-二进制和八进制表示法"><a href="#6-1-二进制和八进制表示法" class="headerlink" title="6-1 二进制和八进制表示法"></a>6-1 二进制和八进制表示法</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> count1 = <span class="number">100</span></span><br><span class="line"><span class="keyword">let</span> count2 = <span class="number">0x100</span></span><br><span class="line"><span class="keyword">let</span> count3 = <span class="number">0o100</span></span><br><span class="line"><span class="keyword">let</span> count4 = <span class="number">0b100</span></span><br></pre></td></tr></table></figure>
<h6 id="6-2-isFinite与isNaN方法"><a href="#6-2-isFinite与isNaN方法" class="headerlink" title="6-2 isFinite与isNaN方法"></a>6-2 isFinite与isNaN方法</h6><p>减少全局性方法，使得语言逐步模块化</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num1 = <span class="built_in">Number</span>.isFinite(<span class="number">100</span>) <span class="comment">//true</span></span><br><span class="line"><span class="keyword">let</span> num2 = <span class="built_in">Number</span>.isFinite(<span class="number">100</span>/<span class="number">0</span>) <span class="comment">//false</span></span><br><span class="line"><span class="keyword">let</span> num3 = <span class="built_in">Number</span>.isFinite(<span class="literal">Infinity</span>) <span class="comment">// false</span></span><br><span class="line"><span class="keyword">let</span> num4 = <span class="built_in">Number</span>.isFinite(<span class="string">"100"</span>) <span class="comment">//false</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num1 = <span class="built_in">Number</span>.isNaN(<span class="number">100</span>) <span class="comment">// false</span></span><br><span class="line"><span class="keyword">let</span> num2 = <span class="built_in">Number</span>.isNaN(<span class="literal">NaN</span>) <span class="comment">//true</span></span><br><span class="line"><span class="keyword">let</span> num3 = <span class="built_in">Number</span>.isNaN(<span class="string">"miller"</span>) <span class="comment">//false</span></span><br><span class="line"><span class="keyword">let</span> num4 = <span class="built_in">Number</span>.isNaN(<span class="string">"100"</span>) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p>它们与传统的全局方法isFinite()和isNaN()的区别在于，传统方法先调用Number()将非数值的值转为数值，再进行判断，而这两个新方法只对数值有效，Number.isFinite()对于非数值一律返回false, Number.isNaN()只有对于NaN才返回true，非NaN一律返回false。</p>
<h6 id="6-3-isInteger方法"><a href="#6-3-isInteger方法" class="headerlink" title="6-3 isInteger方法"></a>6-3 isInteger方法</h6><p>用来判断一个数值是否为整数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num1 = <span class="built_in">Number</span>.isInteger(<span class="number">100</span>) <span class="comment">// true</span></span><br><span class="line"><span class="keyword">let</span> num2 = <span class="built_in">Number</span>.isInteger(<span class="number">100.0</span>) <span class="comment">//true</span></span><br><span class="line"><span class="keyword">let</span> num3 = <span class="built_in">Number</span>.isInteger(<span class="string">"miller"</span>) <span class="comment">//false</span></span><br><span class="line"><span class="keyword">let</span> num4 = <span class="built_in">Number</span>.isInteger(<span class="string">"100"</span>) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<h6 id="6-4-极小常量Number-EPSILON"><a href="#6-4-极小常量Number-EPSILON" class="headerlink" title="6-4 极小常量Number.EPSILON"></a>6-4 极小常量Number.EPSILON</h6><p>它表示 1 与大于 1 的最小浮点数之间的差。2.220446049250313e-16</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isEqual</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Math</span>.abs(a-b)&lt;<span class="built_in">Number</span>.EPSILON</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(isEqual(<span class="number">0.1</span>+<span class="number">0.2</span>,<span class="number">0.3</span>)) <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">0.1</span>+<span class="number">0.2</span>===<span class="number">0.3</span>) <span class="comment">//false</span></span><br></pre></td></tr></table></figure>
<h6 id="6-5-Math-trunc"><a href="#6-5-Math-trunc" class="headerlink" title="6-5 Math.trunc"></a>6-5 Math.trunc</h6><p>将小数部分抹掉,返回一个整数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.trunc(<span class="number">1.2</span>)) <span class="comment">//1</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.trunc(<span class="number">1.8</span>))<span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.trunc(<span class="number">-1.8</span>)) <span class="comment">//-1</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.trunc(<span class="number">-1.2</span>))<span class="comment">//-1</span></span><br></pre></td></tr></table></figure>
<h6 id="6-6-Math-sign"><a href="#6-6-Math-sign" class="headerlink" title="6-6 Math.sign"></a>6-6 Math.sign</h6><p><code>Math.sign</code>方法用来判断一个数到底是正数、负数、还是零。对于非数值，会先将其转换为数值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Math</span>.sign(<span class="number">-100</span>) <span class="comment">// -1</span></span><br><span class="line"><span class="built_in">Math</span>.sign(<span class="number">100</span>) <span class="comment">// +1</span></span><br><span class="line"><span class="built_in">Math</span>.sign(<span class="number">0</span>) <span class="comment">// +0</span></span><br><span class="line"><span class="built_in">Math</span>.sign(<span class="number">-0</span>) <span class="comment">// -0</span></span><br><span class="line"><span class="built_in">Math</span>.sign(<span class="string">"miller"</span>) <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure>
<h5 id="7-数组扩展"><a href="#7-数组扩展" class="headerlink" title="7.数组扩展"></a>7.数组扩展</h5><h6 id="7-1-扩展运算符"><a href="#7-1-扩展运算符" class="headerlink" title="7-1 扩展运算符"></a>7-1 扩展运算符</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> arr2 = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log([...arr1,...arr2])</span><br></pre></td></tr></table></figure>
<h6 id="7-2-Array-from"><a href="#7-2-Array-from" class="headerlink" title="7-2 Array.from"></a>7-2 Array.from</h6><p>将类数组对象转换为真正数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">Array</span>.from(<span class="built_in">arguments</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> oli = <span class="built_in">document</span>.querySelectorAll(<span class="string">"li"</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.from(oli))</span><br></pre></td></tr></table></figure>
<h6 id="7-3-Array-of"><a href="#7-3-Array-of" class="headerlink" title="7-3 Array.of"></a>7-3 Array.of</h6><p>将一组值转化为数组,即新建数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = <span class="built_in">Array</span>(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">console</span>.log(arr1)<span class="comment">// [,,]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr2 = <span class="built_in">Array</span>.of(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">console</span>.log(arr2)<span class="comment">// [3]</span></span><br></pre></td></tr></table></figure>
<h6 id="7-4-find方法"><a href="#7-4-find方法" class="headerlink" title="7-4. find方法"></a>7-4. find方法</h6><p>1)该方法主要应用于查找第一个符合条件的数组元素 </p>
<p>2)它的参数是一个回调函数。在回调函数中可以写你要查找元素的条件,当条件成立为true时,返回该元素。如果没有符合条件的元素,返回值为undefined </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>]</span><br><span class="line"><span class="keyword">let</span> res1 = arr.find(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> item&gt;<span class="number">13</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">let</span> res2 = arr.findIndex(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> item&gt;<span class="number">13</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(res1) <span class="comment">//14</span></span><br><span class="line"><span class="built_in">console</span>.log(res2) <span class="comment">//3</span></span><br></pre></td></tr></table></figure>
<h6 id="7-5-fill方法"><a href="#7-5-fill方法" class="headerlink" title="7-5. fill方法"></a>7-5. fill方法</h6><p>使用自己想要的参数替换原数组内容,但是会改变原来的数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">3</span>).fill(<span class="string">"miller"</span>)</span><br><span class="line"><span class="keyword">let</span> arr2 = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>].fill(<span class="string">"miller"</span>, <span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">console</span>.log(arr1)<span class="comment">//['miller', 'miller', 'miller']</span></span><br><span class="line"><span class="built_in">console</span>.log(arr2)<span class="comment">// ['a', 'miller', 'c']</span></span><br></pre></td></tr></table></figure>
<h6 id="7-6-flat与flatMap方法"><a href="#7-6-flat与flatMap方法" class="headerlink" title="7-6 flat与flatMap方法"></a>7-6 flat与flatMap方法</h6><p>按照一个可指定的深度递归遍历数组,并将所有元素与遍历到的子数组中的元素合并为一个新数组返回</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = [&#123;</span><br><span class="line">                name: <span class="string">"A"</span>,</span><br><span class="line">                list: [<span class="string">"鞍山"</span>, <span class="string">"安庆"</span>, <span class="string">"安阳"</span>]</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                name: <span class="string">"B"</span>,</span><br><span class="line">                list: [<span class="string">"北京"</span>, <span class="string">"保定"</span>, <span class="string">"包头"</span>]</span><br><span class="line">            &#125;</span><br><span class="line">]</span><br><span class="line"><span class="built_in">console</span>.log(obj.flatMap(<span class="function"><span class="params">item</span> =&gt;</span> item.list))</span><br></pre></td></tr></table></figure>
<h5 id="8-对象扩展"><a href="#8-对象扩展" class="headerlink" title="8.对象扩展"></a>8.对象扩展</h5><h6 id="8-1-对象简写"><a href="#8-1-对象简写" class="headerlink" title="8-1 对象简写"></a>8-1 对象简写</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name =<span class="string">"moduleA"</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name,</span><br><span class="line">    test1()&#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    test2()&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="8-2-属性名表达式"><a href="#8-2-属性名表达式" class="headerlink" title="8-2 属性名表达式"></a>8-2 属性名表达式</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name =<span class="string">"moduleA"</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name,</span><br><span class="line">    [name+<span class="string">"test1"</span>]()&#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    [name+<span class="string">"test2"</span>]()&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="8-3-Object-assign"><a href="#8-3-Object-assign" class="headerlink" title="8-3 Object.assign"></a>8-3 Object.assign</h6><p>Object.assign(target, object1，object2)的第一个参数是目标对象，后面可以跟一个或多个源对象作为参数。</p>
<p>target：参数合并后存放的对象</p>
<p>object1：参数1</p>
<p>object2：参数2</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj1 = &#123;</span><br><span class="line">    name: <span class="string">"miller"</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj2 = &#123;</span><br><span class="line">    name:<span class="string">"tiechui"</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> obj3 = &#123;</span><br><span class="line">    age:<span class="number">100</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.assign(obj1, obj2, obj3);</span><br><span class="line"><span class="comment">//obj1 &#123;name: 'tiechui', age: 100&#125;</span></span><br></pre></td></tr></table></figure>
<h6 id="8-4-Object-is"><a href="#8-4-Object-is" class="headerlink" title="8-4 Object.is"></a>8-4 Object.is</h6><p>方法判断两个值是否是相同的值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span>===<span class="literal">NaN</span>) <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(+<span class="number">0</span>===<span class="number">-0</span>) <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(<span class="literal">NaN</span>,<span class="literal">NaN</span>)) <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(+<span class="number">0</span>,<span class="number">-0</span>)) <span class="comment">//false</span></span><br></pre></td></tr></table></figure>
<h5 id="9-函数扩展"><a href="#9-函数扩展" class="headerlink" title="9.函数扩展"></a>9.函数扩展</h5><h6 id="9-1-箭头函数"><a href="#9-1-箭头函数" class="headerlink" title="9-1 箭头函数"></a>9-1 箭头函数</h6><ul>
<li><p>箭头函数是 ES6 里面一个简写函数的语法方式</p>
</li>
<li><p>重点： <strong>箭头函数只能简写函数表达式，不能简写声明式函数</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;&#125; <span class="comment">// 不能简写</span></span><br><span class="line"><span class="keyword">const</span> fun = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125; <span class="comment">// 可以简写</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  fn: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125; <span class="comment">// 可以简写</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>语法： <code>(函数的行参) =&gt; { 函数体内要执行的代码 }</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fn = <span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a)</span><br><span class="line">  <span class="built_in">console</span>.log(b)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 可以使用箭头函数写成</span></span><br><span class="line"><span class="keyword">const</span> fun = <span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a)</span><br><span class="line">  <span class="built_in">console</span>.log(b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  fn: <span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a)</span><br><span class="line">    <span class="built_in">console</span>.log(b)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 可以使用箭头函数写成</span></span><br><span class="line"><span class="keyword">const</span> obj2 = &#123;</span><br><span class="line">  fn: <span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a)</span><br><span class="line">    <span class="built_in">console</span>.log(b)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h6 id="9-2-箭头函数的特殊性"><a href="#9-2-箭头函数的特殊性" class="headerlink" title="9-2 箭头函数的特殊性"></a>9-2 箭头函数的特殊性</h6><ul>
<li><p>箭头函数内部没有 this，箭头函数的 this 是上下文的 this</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在箭头函数定义的位置往上数，这一行是可以打印出 this 的</span></span><br><span class="line"><span class="comment">// 因为这里的 this 是 window</span></span><br><span class="line"><span class="comment">// 所以箭头函数内部的 this 就是 window</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  fn: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 这个位置是箭头函数的上一行，但是不能打印出 this</span></span><br><span class="line">  fun: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 箭头函数内部的 this 是书写箭头函数的上一行一个可以打印出 this 的位置</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.fn()</span><br><span class="line">obj.fun()</span><br></pre></td></tr></table></figure>
<ul>
<li>按照我们之前的 this 指向来判断，两个都应该指向 obj</li>
<li>但是 fun 因为是箭头函数，所以 this 不指向 obj，而是指向 fun 的外层，就是 window</li>
</ul>
</li>
<li><p>箭头函数内部没有 <code>arguments</code> 这个参数集合</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  fn: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  fun: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.fn(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>) <span class="comment">// 会打印一个伪数组 [1, 2, 3]</span></span><br><span class="line">obj.fun(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>) <span class="comment">// 会直接报错</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>函数的行参只有一个的时候可以不写 <code>()</code> 其余情况必须写</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  fn: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'没有参数，必须写小括号'</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  fn2: <span class="function"><span class="params">a</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'一个行参，可以不写小括号'</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  fn3: <span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'两个或两个以上参数，必须写小括号'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>函数体只有一行代码的时候，可以不写 <code>{}</code> ，并且会自动 return</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  fn: <span class="function"><span class="params">a</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + <span class="number">10</span></span><br><span class="line">  &#125;,</span><br><span class="line">  fun: <span class="function"><span class="params">a</span> =&gt;</span> a + <span class="number">10</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(fn(<span class="number">10</span>)) <span class="comment">// 20</span></span><br><span class="line"><span class="built_in">console</span>.log(fun(<span class="number">10</span>)) <span class="comment">// 20</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h6 id="9-3-函数传递参数的时候的默认值"><a href="#9-3-函数传递参数的时候的默认值" class="headerlink" title="9-3 函数传递参数的时候的默认值"></a>9-3 函数传递参数的时候的默认值</h6><ul>
<li><p>我们在定义函数的时候，有的时候需要一个默认值出现</p>
</li>
<li><p>就是当我不传递参数的时候，使用默认值，传递参数了就使用传递的参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">  a = a || <span class="number">10</span></span><br><span class="line">  <span class="built_in">console</span>.log(a)</span><br><span class="line">&#125;</span><br><span class="line">fn()   <span class="comment">// 不传递参数的时候，函数内部的 a 就是 10</span></span><br><span class="line">fn(<span class="number">20</span>) <span class="comment">// 传递了参数 20 的时候，函数内部的 a 就是 20</span></span><br></pre></td></tr></table></figure>
<ul>
<li>在 ES6 中我们可以直接把默认值写在函数的行参位置</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">a = <span class="number">10</span></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a)</span><br><span class="line">&#125;</span><br><span class="line">fn()   <span class="comment">// 不传递参数的时候，函数内部的 a 就是 10</span></span><br><span class="line">fn(<span class="number">20</span>) <span class="comment">// 传递了参数 20 的时候，函数内部的 a 就是 20</span></span><br></pre></td></tr></table></figure>
<ul>
<li>这个默认值的方式箭头函数也可以使用</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fn = <span class="function">(<span class="params">a = <span class="number">10</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a)</span><br><span class="line">&#125;</span><br><span class="line">fn()   <span class="comment">// 不传递参数的时候，函数内部的 a 就是 10</span></span><br><span class="line">fn(<span class="number">20</span>) <span class="comment">// 传递了参数 20 的时候，函数内部的 a 就是 20</span></span><br></pre></td></tr></table></figure>
<ul>
<li>注意： <strong>箭头函数如果你需要使用默认值的话，那么一个参数的时候也需要写 （）</strong></li>
</ul>
</li>
</ul>
<h5 id="10-Symbol"><a href="#10-Symbol" class="headerlink" title="10.Symbol"></a>10.Symbol</h5><blockquote>
<p>ES6 引入了一种新的原始数据类型<code>Symbol</code>，表示独一无二的值。它属于 JavaScript 语言的原生数据类型之一，其他数据类型是：<code>undefined</code>、<code>null</code>、布尔值（Boolean）、字符串（String）、数值（Number）、对象（Object）。</p>
</blockquote>
<ol>
<li>使用Symbol作为对象属性名</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="built_in">Symbol</span>()</span><br><span class="line"><span class="keyword">let</span> age = <span class="built_in">Symbol</span>()</span><br><span class="line"><span class="keyword">var</span> obj  =&#123;</span><br><span class="line">    [name]:<span class="string">"miller"</span>,</span><br><span class="line">    [age]:<span class="number">100</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>Symbol()函数可以接受一个字符串作为参数，表示对 Symbol 实例的描述。这主要是为了在控制台显示，比较容易区分。</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="built_in">Symbol</span>(<span class="string">"name"</span>)</span><br><span class="line"><span class="keyword">let</span> age = <span class="built_in">Symbol</span>(<span class="string">"age"</span>)</span><br><span class="line"><span class="keyword">var</span> obj  =&#123;</span><br><span class="line">    [name]:<span class="string">"miller"</span>,</span><br><span class="line">    [age]:<span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(obj)</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>遍历问题</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> keys = &#123;</span><br><span class="line">    name:<span class="built_in">Symbol</span>(<span class="string">"name"</span>),</span><br><span class="line">    age:<span class="built_in">Symbol</span>(<span class="string">"age"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj  =&#123;</span><br><span class="line">    [keys.name]:<span class="string">"miller"</span>,</span><br><span class="line">    [keys.age]:<span class="number">100</span>,</span><br><span class="line">    a:<span class="number">1</span>,</span><br><span class="line">    b:<span class="number">2</span>,</span><br><span class="line">    c:<span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Reflect</span>.ownKeys(obj).forEach(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item,obj[item])</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>Symbol.for()可以重新使用同一个 Symbol 值</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj  =&#123;</span><br><span class="line">    [<span class="built_in">Symbol</span>.for(<span class="string">"name"</span>)]:<span class="string">"miller"</span>,</span><br><span class="line">    [<span class="built_in">Symbol</span>.for(<span class="string">"age"</span>)]:<span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj[<span class="built_in">Symbol</span>.for(<span class="string">"name"</span>)])</span><br></pre></td></tr></table></figure>
<h5 id="11-Iterator迭代器"><a href="#11-Iterator迭代器" class="headerlink" title="11.Iterator迭代器"></a>11.Iterator迭代器</h5><blockquote>
<p>Iterator 的作用有三个：</p>
<p>一是为各种数据结构，提供一个统一的、简便的访问接口；</p>
<p>二是使得数据结构的成员能够按某种次序排列；</p>
<p>三是 ES6 创造了一种新的遍历命令<strong>for…of</strong>循环，Iterator 接口主要供<strong>for…of</strong>循环</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">"miller"</span>, <span class="string">"tiechui"</span>, <span class="string">"gangdaner"</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">of</span> arr)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Iterator 的遍历过程是这样的。</span><br><span class="line"></span><br><span class="line">（<span class="number">1</span>）创建一个指针对象，指向当前数据结构的起始位置。也就是说，遍历器对象本质上，就是一个指针对象。</span><br><span class="line"></span><br><span class="line">（<span class="number">2</span>）第一次调用指针对象的next方法，可以将指针指向数据结构的第一个成员。</span><br><span class="line"></span><br><span class="line">（<span class="number">3</span>）第二次调用指针对象的next方法，指针就指向数据结构的第二个成员。</span><br><span class="line"></span><br><span class="line">（<span class="number">4</span>）不断调用指针对象的next方法，直到它指向数据结构的结束位置。</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> i = arr[<span class="built_in">Symbol</span>.iterator]()</span><br><span class="line"><span class="built_in">console</span>.log(i.next())</span><br><span class="line"><span class="built_in">console</span>.log(i.next())</span><br><span class="line"><span class="built_in">console</span>.log(i.next())</span><br><span class="line"><span class="built_in">console</span>.log(i.next())</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ES6 规定，默认的 Iterator 接口部署在数据结构的Symbol.iterator属性，或者说，一个数据结构只要具有Symbol.iterator属性，就可以认为是“可遍历的”（iterable）。Symbol.iterator属性本身是一个函数，就是当前数据结构默认的遍历器生成函数。执行这个函数，就会返回一个遍历器。</p>
</blockquote>
<p>原生默认具备 Iterator 接口的数据结构如下。</p>
<ul>
<li>Array</li>
<li>Set</li>
<li>Map</li>
<li>String</li>
<li>arguments 对象</li>
<li>NodeList 对象</li>
</ul>
<p><strong>如何对于对象进行for fo遍历？</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="number">0</span>: <span class="string">"miller"</span>,</span><br><span class="line">    <span class="number">1</span>: <span class="string">"tiechui"</span>,</span><br><span class="line">    <span class="number">2</span>: <span class="string">"gangdaner"</span>,</span><br><span class="line">    length: <span class="number">3</span>,</span><br><span class="line">    [<span class="built_in">Symbol</span>.iterator]: <span class="built_in">Array</span>.prototype[<span class="built_in">Symbol</span>.iterator]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> obj) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;</span><br><span class="line">    data: [<span class="string">'miller'</span>, <span class="string">'tiechui'</span>, <span class="string">"gangdaner"</span>],</span><br><span class="line">    [<span class="built_in">Symbol</span>.iterator]() &#123;</span><br><span class="line">        <span class="comment">// let _this = this</span></span><br><span class="line">        <span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            next: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (index &lt; <span class="keyword">this</span>.data.length) &#123;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">return</span> &#123;</span><br><span class="line">                        value: <span class="keyword">this</span>.data[index++],</span><br><span class="line">                        done: <span class="literal">false</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> &#123;</span><br><span class="line">                        value: <span class="literal">undefined</span>,</span><br><span class="line">                        done: <span class="literal">true</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> obj2) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="12-Set结构"><a href="#12-Set结构" class="headerlink" title="12.Set结构"></a>12.Set结构</h5><blockquote>
<p>它类似于数组，但成员的值都是唯一的，没有重复的值。</p>
</blockquote>
<h6 id="12-1-初识Set"><a href="#12-1-初识Set" class="headerlink" title="12-1 初识Set"></a>12-1 初识Set</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s1 = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="built_in">console</span>.log(s1)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> s2 = <span class="keyword">new</span> <span class="built_in">Set</span>()</span><br><span class="line">s2.add(<span class="number">1</span>)</span><br><span class="line">s2.add(<span class="number">2</span>)</span><br><span class="line">s2.add(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">console</span>.log(s2)</span><br></pre></td></tr></table></figure>
<h6 id="12-2-实例的属性和方法"><a href="#12-2-实例的属性和方法" class="headerlink" title="12-2 实例的属性和方法"></a>12-2 实例的属性和方法</h6><ul>
<li><p>size：返回Set实例的成员总数。</p>
</li>
<li><p><code>Set.prototype.add(value)</code>：添加某个value。</p>
</li>
<li><code>Set.prototype.delete(value)</code>：删除某个value，返回一个布尔值，表示删除是否成功。</li>
<li><code>Set.prototype.has(value)</code>：返回一个布尔值，表示该值是否为<code>Set</code>的成员。</li>
<li><code>Set.prototype.clear()</code>：清除所有成员，没有返回值。</li>
</ul>
<h6 id="12-3-遍历"><a href="#12-3-遍历" class="headerlink" title="12-3 遍历"></a>12-3 遍历</h6><ul>
<li><code>Set.prototype.keys()</code>：返回键名的遍历器</li>
<li><code>Set.prototype.values()</code>：返回键值的遍历器</li>
<li><code>Set.prototype.entries()</code>：返回键值对的遍历器</li>
<li><code>Set.prototype.forEach()</code>：遍历每个成员</li>
</ul>
<h6 id="12-4-复杂数据结构去重"><a href="#12-4-复杂数据结构去重" class="headerlink" title="12-4 复杂数据结构去重"></a>12-4 复杂数据结构去重</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">uni</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> res = <span class="keyword">new</span> <span class="built_in">Set</span>()</span><br><span class="line">    <span class="keyword">return</span> arr.filter(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> id = <span class="built_in">JSON</span>.stringify(item)</span><br><span class="line">        <span class="keyword">if</span> (res.has(id)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            res.add(id)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="string">"data"</span>, &#123;</span><br><span class="line">    name: <span class="string">"miller"</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line">    name: <span class="string">"miller"</span></span><br><span class="line">&#125;,</span><br><span class="line">           [<span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line">           [<span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">           [<span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">          ]</span><br><span class="line"><span class="built_in">console</span>.log(uni(arr))</span><br></pre></td></tr></table></figure>
<h5 id="13-Map结构"><a href="#13-Map结构" class="headerlink" title="13.Map结构"></a>13.Map结构</h5><blockquote>
<p>类似于对象，也是键值对的集合，但是“键”的范围不限于字符串，各种类型的值（包括对象）都可以当作键。</p>
</blockquote>
<h6 id="13-1-初识Map"><a href="#13-1-初识Map" class="headerlink" title="13-1 初识Map"></a>13-1 初识Map</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> m1 = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line">m1.set(<span class="string">"name"</span>,<span class="string">"miller"</span>)</span><br><span class="line">m1.set(&#123;<span class="attr">a</span>:<span class="number">1</span>&#125;,<span class="string">"大连"</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(m1)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> m2= <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">    [<span class="string">"name"</span>,<span class="string">"miller"</span>],</span><br><span class="line">    [&#123;<span class="attr">a</span>:<span class="number">1</span>&#125;,<span class="string">"大连"</span>]</span><br><span class="line">])</span><br><span class="line"><span class="built_in">console</span>.log(m2)</span><br></pre></td></tr></table></figure>
<h6 id="13-2-实例的属性和方法"><a href="#13-2-实例的属性和方法" class="headerlink" title="13-2 实例的属性和方法"></a>13-2 实例的属性和方法</h6><ul>
<li><p>size：返回 Map 结构的成员总数。</p>
</li>
<li><p><code>Map.prototype.set(key,value)</code>：添加key对应得value，返回 Map 结构本身。</p>
</li>
<li><code>Map.prototype.get(key)</code>：获取key对应的value</li>
<li><code>Map.prototype.delete(key)</code>：删除某个键（键名+键值）</li>
<li><code>Map.prototype.has(key)</code>：某个键是否在当前 Map 对象之中。</li>
<li><code>Map.prototype.clear()</code>：清除所有成员，没有返回值。</li>
</ul>
<h6 id="13-3-遍历"><a href="#13-3-遍历" class="headerlink" title="13-3 遍历"></a>13-3 遍历</h6><ul>
<li>Map.prototype.keys()：返回键名的遍历器。</li>
<li>Map.prototype.values()：返回键值的遍历器。</li>
<li>Map.prototype.entries()：返回所有成员的遍历器。</li>
<li>Map.prototype.forEach()：遍历 Map 的所有成员。</li>
</ul>
<h5 id="14-Proxy代理"><a href="#14-Proxy代理" class="headerlink" title="14.Proxy代理"></a>14.Proxy代理</h5><blockquote>
<p>Proxy如其名， 它的作用是在对象和和对象的属性值之间设置一个代理，获取该对象的值或者设置该对象的值， 以及实例化等等多种操作， 都会被拦截住， 经过这一层我们可以统一处理，我们可以认为它就是“代理器”</p>
</blockquote>
<h6 id="14-1-get方法"><a href="#14-1-get方法" class="headerlink" title="14-1.get方法"></a>14-1.get方法</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> target = &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> proxy = <span class="keyword">new</span> <span class="built_in">Proxy</span>(target,&#123;</span><br><span class="line">    <span class="keyword">get</span>(target,prop)&#123;</span><br><span class="line">        <span class="keyword">return</span> target[prop]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h6 id="14-2-set方法"><a href="#14-2-set方法" class="headerlink" title="14-2.set方法"></a>14-2.set方法</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> target = &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> proxy = <span class="keyword">new</span> <span class="built_in">Proxy</span>(target,&#123;</span><br><span class="line">    <span class="keyword">get</span>(target,prop)&#123;</span><br><span class="line">        <span class="keyword">return</span> target[prop]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span>(target,prop,value)&#123;</span><br><span class="line">        <span class="keyword">if</span>(prop===<span class="string">"data"</span>)&#123;</span><br><span class="line">            box.innerHTML = value</span><br><span class="line">        &#125;</span><br><span class="line">        target[prop] = value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h6 id="14-3-has方法"><a href="#14-3-has方法" class="headerlink" title="14-3.has方法"></a>14-3.has方法</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> target = &#123;</span><br><span class="line">    _prop: <span class="string">"内部数据"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> proxy = <span class="keyword">new</span> <span class="built_in">Proxy</span>(target, &#123;</span><br><span class="line">    <span class="keyword">get</span>(target, prop) &#123;</span><br><span class="line">        <span class="keyword">return</span> target[prop]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span>(target, prop, value) &#123;</span><br><span class="line">        <span class="keyword">if</span> (prop === <span class="string">"data"</span>) &#123;</span><br><span class="line">            box.innerHTML = value</span><br><span class="line">        &#125;</span><br><span class="line">        target[prop] = value;</span><br><span class="line">    &#125;,</span><br><span class="line">    has(target, key) &#123;</span><br><span class="line">        <span class="keyword">if</span> (key[<span class="number">0</span>] === <span class="string">'_'</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> key <span class="keyword">in</span> target;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h6 id="14-4-this问题"><a href="#14-4-this问题" class="headerlink" title="14-4.this问题"></a>14-4.this问题</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> target = <span class="keyword">new</span> <span class="built_in">Set</span>()</span><br><span class="line"><span class="keyword">const</span> proxy = <span class="keyword">new</span> <span class="built_in">Proxy</span>(target, &#123;</span><br><span class="line">    <span class="keyword">get</span>(target, key) &#123;</span><br><span class="line">        <span class="keyword">const</span> value =  target[key]</span><br><span class="line">        <span class="comment">// 遇到 Function 都手动绑定一下 this</span></span><br><span class="line">        <span class="keyword">if</span> (value <span class="keyword">instanceof</span> <span class="built_in">Function</span>) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">`访问<span class="subst">$&#123;value&#125;</span>方法了`</span>)</span><br><span class="line">            <span class="keyword">return</span> value.bind(target)</span><br><span class="line">            <span class="comment">//不能 是 call apply </span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> value</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">proxy.add(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Proxy本质上属于元编程非破坏性数据劫持，在原对象的基础上进行了功能的衍生而又不影响原对象，符合松耦合高内聚的设计理念。</p>
</blockquote>
<h5 id="15-Reflect对象"><a href="#15-Reflect对象" class="headerlink" title="15.Reflect对象"></a>15.Reflect对象</h5><blockquote>
<p>Reflect 可以用于获取目标对象的行为，它与 Object 类似，但是更易读，为操作对象提供了一种更优雅的方式。它的方法与 Proxy 是对应的。</p>
</blockquote>
<h6 id="15-1-代替Object的某些方法"><a href="#15-1-代替Object的某些方法" class="headerlink" title="15-1 代替Object的某些方法"></a>15-1 代替Object的某些方法</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">Reflect</span>.defineProperty(obj, <span class="string">'name'</span>, &#123;</span><br><span class="line">    value: <span class="string">'miller'</span>,</span><br><span class="line">    writable: <span class="literal">false</span>,</span><br><span class="line">    configurable:<span class="literal">false</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h6 id="15-2-修改某些Object方法返回结果"><a href="#15-2-修改某些Object方法返回结果" class="headerlink" title="15-2 修改某些Object方法返回结果"></a>15-2 修改某些Object方法返回结果</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 老写法</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(target, property, attributes);</span><br><span class="line">  <span class="comment">// success</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  <span class="comment">// fail</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 新写法</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">Reflect</span>.defineProperty(target, property, attributes)) &#123;</span><br><span class="line">  <span class="comment">// success</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">// fail</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="15-3-命令式变为函数行为"><a href="#15-3-命令式变为函数行为" class="headerlink" title="15-3 命令式变为函数行为"></a>15-3 命令式变为函数行为</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    name:<span class="string">"miller"</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//老写法</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"name"</span> <span class="keyword">in</span> obj) <span class="comment">//true</span></span><br><span class="line"><span class="comment">//新写法</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Reflect</span>.has(obj, <span class="string">'name'</span>)) <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//老写法</span></span><br><span class="line"><span class="keyword">delete</span> obj.name</span><br><span class="line"><span class="comment">//新写法</span></span><br><span class="line"><span class="built_in">Reflect</span>.deleteProperty(obj, <span class="string">"name"</span>)</span><br></pre></td></tr></table></figure>
<h6 id="15-4-配合Proxy"><a href="#15-4-配合Proxy" class="headerlink" title="15-4 配合Proxy"></a>15-4 配合Proxy</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> target = <span class="keyword">new</span> <span class="built_in">Set</span>()</span><br><span class="line"><span class="keyword">const</span> proxy = <span class="keyword">new</span> <span class="built_in">Proxy</span>(target, &#123;</span><br><span class="line">    <span class="keyword">get</span>(target, key) &#123;</span><br><span class="line">        <span class="keyword">const</span> value = <span class="built_in">Reflect</span>.get(target,key)</span><br><span class="line">        <span class="comment">// 遇到 Function 都手动绑定一下 this</span></span><br><span class="line">        <span class="keyword">if</span> (value <span class="keyword">instanceof</span> <span class="built_in">Function</span>) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">`访问<span class="subst">$&#123;value&#125;</span>方法了`</span>)</span><br><span class="line">            <span class="keyword">return</span> value.bind(target)</span><br><span class="line">            <span class="comment">//不能 是 call apply </span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> value</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span>() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Reflect</span>.set(...arguments)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">proxy.add(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> proxy = <span class="keyword">new</span> <span class="built_in">Proxy</span>(arr, &#123;</span><br><span class="line">    <span class="keyword">get</span>(target, key) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'get'</span>, key)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Reflect</span>.get(...arguments)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span>(target, key, value) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'set'</span>, key, value)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Reflect</span>.set(...arguments)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">proxy.push(<span class="number">4</span>)</span><br><span class="line"><span class="comment">// 能够打印出很多内容</span></span><br><span class="line"><span class="comment">// get push     (寻找 proxy.push 方法)</span></span><br><span class="line"><span class="comment">// get length   (获取当前的 length)</span></span><br><span class="line"><span class="comment">// set 3 4      (设置 proxy[3] = 4)</span></span><br><span class="line"><span class="comment">// set length 4 (设置 proxy.length = 4)</span></span><br></pre></td></tr></table></figure>
<h5 id="16-Promise"><a href="#16-Promise" class="headerlink" title="16.Promise"></a>16.Promise</h5><blockquote>
<p>Promise 是异步编程的一种解决方案，比传统的解决方案回调函数,  更合理和更强大。ES6 将其写进了语言标准，统一了用法，原生提供了Promise对象 。</p>
</blockquote>
<ul>
<li><p>指定回调函数方式更灵活易懂。</p>
</li>
<li><p>解决异步 <strong>回调地狱</strong> 的问题。</p>
</li>
</ul>
<h6 id="16-1-回调地狱"><a href="#16-1-回调地狱" class="headerlink" title="16-1 回调地狱"></a>16-1 回调地狱</h6><ul>
<li><p>当一个回调函数嵌套一个回调函数的时候</p>
</li>
<li><p>就会出现一个嵌套结构</p>
</li>
<li><p>当嵌套的多了就会出现回调地狱的情况</p>
</li>
<li><p>比如我们发送三个 ajax 请求</p>
<ul>
<li>第一个正常发送</li>
<li>第二个请求需要第一个请求的结果中的某一个值作为参数</li>
<li>第三个请求需要第二个请求的结果中的某一个值作为参数</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">ajax(&#123;</span><br><span class="line">  url: <span class="string">'我是第一个请求'</span>,</span><br><span class="line">  success (res) &#123;</span><br><span class="line">    <span class="comment">// 现在发送第二个请求</span></span><br><span class="line">    ajax(&#123;</span><br><span class="line">      url: <span class="string">'我是第二个请求'</span>，</span><br><span class="line">      data: &#123; <span class="attr">a</span>: res.a, <span class="attr">b</span>: res.b &#125;,</span><br><span class="line">      success (res2) &#123;</span><br><span class="line">        <span class="comment">// 进行第三个请求</span></span><br><span class="line">        ajax(&#123;</span><br><span class="line">          url: <span class="string">'我是第三个请求'</span>,</span><br><span class="line">          data: &#123; <span class="attr">a</span>: res2.a, <span class="attr">b</span>: res2.b &#125;,</span><br><span class="line">          success (res3) &#123; </span><br><span class="line">            <span class="built_in">console</span>.log(res3) </span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>回调地狱，其实就是回调函数嵌套过多导致的</strong></p>
</li>
</ul>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/es6-img/%E5%9B%9E%E8%B0%83%E5%9C%B0%E7%8B%B1.jpeg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
<ul>
<li>当代码成为这个结构以后，已经没有维护的可能了</li>
</ul>
<h6 id="16-2-Promise使用"><a href="#16-2-Promise使用" class="headerlink" title="16-2 Promise使用"></a>16-2 Promise使用</h6><ul>
<li><p>语法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// resolve 表示成功的回调</span></span><br><span class="line">  <span class="comment">// reject 表示失败的回调</span></span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 成功的函数</span></span><br><span class="line">&#125;).catch(<span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 失败的函数</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h6 id="16-3-Promise-对象的状态"><a href="#16-3-Promise-对象的状态" class="headerlink" title="16-3 Promise 对象的状态"></a>16-3 Promise 对象的状态</h6><p>Promise 对象通过自身的状态，来控制异步操作。Promise 实例具有三种状态。</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">异步操作未完成（pending）</span><br><span class="line">异步操作成功（fulfilled）</span><br><span class="line">异步操作失败（rejected）</span><br></pre></td></tr></table></figure>
<p>这三种的状态的变化途径只有两种。</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">从“未完成”到“成功”</span><br><span class="line">从“未完成”到“失败”</span><br></pre></td></tr></table></figure>
<p>一旦状态发生变化，就凝固了，不会再有新的状态变化。这也是 Promise 这个名字的由来，它的英语意思是“承诺”，一旦承诺成效，就不得再改变了。这也意味着，Promise 实例的状态变化只可能发生一次。</p>
<p>因此，Promise 的最终结果只有两种。</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">异步操作成功，Promise 实例传回一个值（value），状态变为fulfilled。</span><br><span class="line">异步操作失败，Promise 实例抛出一个错误（error），状态变为rejected。</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/es6-img/image-20220902141409899.png" alt="image-20220902141409899" title="">
                </div>
                <div class="image-caption">image-20220902141409899</div>
            </figure>
<h6 id="16-4-Promise-all"><a href="#16-4-Promise-all" class="headerlink" title="16-4 Promise.all"></a>16-4 Promise.all</h6><p><code>Promise.all()</code>方法用于将多个 Promise 实例，包装成一个新的 Promise 实例。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="built_in">Promise</span>.all([p1, p2, p3]);</span><br></pre></td></tr></table></figure>
<p>p的状态由p1,p2,p3 决定，分成两种情况。</p>
<p>（1）只有<code>p1</code>、<code>p2</code>、<code>p3</code>的状态都变成<code>fulfilled</code>，<code>p</code>的状态才会变成<code>fulfilled</code>，此时<code>p1</code>、<code>p2</code>、<code>p3</code>的返回值组成一个数组，传递给<code>p</code>的回调函数。</p>
<p>（2）只要<code>p1</code>、<code>p2</code>、<code>p3</code>之中有一个被<code>rejected</code>，<code>p</code>的状态就变成<code>rejected</code>，此时第一个被<code>reject</code>的实例的返回值，会传递给<code>p</code>的回调函数。</p>
<h6 id="16-5-Promise-race"><a href="#16-5-Promise-race" class="headerlink" title="16-5 Promise.race"></a>16-5 Promise.race</h6><p><code>Promise.race()</code>方法同样是将多个 Promise 实例，包装成一个新的 Promise 实例。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="built_in">Promise</span>.race([p1, p2, p3]);</span><br></pre></td></tr></table></figure>
<p>上面代码中，只要<code>p1</code>、<code>p2</code>、<code>p3</code>之中有一个实例率先改变状态，<code>p</code>的状态就跟着改变。那个率先改变的 Promise 实例的返回值，就传递给<code>p</code>的回调函数。</p>
<h5 id="17-Generator-函数"><a href="#17-Generator-函数" class="headerlink" title="17.Generator 函数"></a>17.Generator 函数</h5><blockquote>
<p>Generator 函数是 ES6 提供的一种异步编程解决方案</p>
<p>Generator 函数是一个状态机，封装了多个内部状态。</p>
<p>执行 Generator 函数会返回一个遍历器对象，也就是说，Generator 函数除了状态机，还是一个遍历器对象生成函数。返回的遍历器对象，可以依次遍历 Generator 函数内部的每一个状态。</p>
</blockquote>
<h6 id="17-1-基本语法"><a href="#17-1-基本语法" class="headerlink" title="17-1 基本语法"></a>17-1 基本语法</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">gen</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">yield</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">yield</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> g = gen()</span><br><span class="line">g.next()</span><br><span class="line">g.next()</span><br><span class="line">g.next()</span><br></pre></td></tr></table></figure>
<p><img src="/img/es6-img/image-20220917070351858.png" alt="image-20220917070351858" style="zoom:50%;float:left"></p>
<blockquote>
<p>yield(产出)表达式是暂停执行的标记，而next方法可以恢复执行。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">gen</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">yield</span>  <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">yield</span>  <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> g = gen()</span><br><span class="line"><span class="keyword">let</span> res1 = g.next()</span><br><span class="line"><span class="built_in">console</span>.log(res1)</span><br><span class="line"><span class="keyword">let</span> res2 = g.next()</span><br><span class="line"><span class="built_in">console</span>.log(res2)</span><br><span class="line"><span class="keyword">let</span> res3 = g.next()</span><br><span class="line"><span class="built_in">console</span>.log(res3)</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/es6-img/image-20220917070836171.png" alt="image-20220917070836171" title="">
                </div>
                <div class="image-caption">image-20220917070836171</div>
            </figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">gen</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> res1 = <span class="keyword">yield</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(res1)</span><br><span class="line">    <span class="keyword">let</span> res2 = <span class="keyword">yield</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(res2)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> g = gen()</span><br><span class="line">g.next(<span class="string">"data-1"</span>)</span><br><span class="line">g.next(<span class="string">"data-2"</span>)</span><br><span class="line">g.next(<span class="string">"data-3"</span>)</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/es6-img/image-20220917071219520.png" alt="image-20220917071219520" title="">
                </div>
                <div class="image-caption">image-20220917071219520</div>
            </figure>
<h6 id="17-2-异步流程"><a href="#17-2-异步流程" class="headerlink" title="17-2 异步流程"></a>17-2 异步流程</h6><p><strong>手动版本</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">gen</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> res1 = <span class="keyword">yield</span> ajax(<span class="string">"1.json"</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(res1)</span><br><span class="line">    <span class="keyword">let</span> res2 = <span class="keyword">yield</span> ajax(<span class="string">"2.json"</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(res2)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> g = gen()   </span><br><span class="line"></span><br><span class="line">g.next().value.then(<span class="function"><span class="params">data</span>=&gt;</span>&#123;</span><br><span class="line">    g.next(data).value.then(<span class="function"><span class="params">data</span>=&gt;</span>&#123;</span><br><span class="line">        g.next(data)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><strong>自动版本</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">gen</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> res1 = <span class="keyword">yield</span> ajax(<span class="string">"1.json"</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(res1)</span><br><span class="line">    <span class="keyword">let</span> res2 = <span class="keyword">yield</span> ajax(<span class="string">"2.json"</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(res2)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">AutoRun</span>(<span class="params">gen</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> g = gen();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">next</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> res = g.next(data);</span><br><span class="line">        <span class="keyword">if</span> (res.done) <span class="keyword">return</span> </span><br><span class="line">        res.value.then(<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">            next(data);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    next();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">AutoRun(gen);</span><br></pre></td></tr></table></figure>
<h5 id="18-Class语法"><a href="#18-Class语法" class="headerlink" title="18. Class语法"></a>18. Class语法</h5><h6 id="18-1-类的写法"><a href="#18-1-类的写法" class="headerlink" title="18-1 类的写法"></a>18-1 类的写法</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name,age)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    say()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name,<span class="keyword">this</span>.age)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj = <span class="keyword">new</span> Person(<span class="string">"miller"</span>,<span class="number">100</span>)</span><br><span class="line"><span class="built_in">console</span>.log(obj)</span><br></pre></td></tr></table></figure>
<h6 id="18-2-getter与setter"><a href="#18-2-getter与setter" class="headerlink" title="18-2 getter与setter"></a>18-2 getter与setter</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">List</span></span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(ele)&#123;</span><br><span class="line">        <span class="keyword">this</span>.element = ele</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">get</span> html()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.element.innerHTML</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">set</span> html(arr)&#123;</span><br><span class="line">        <span class="keyword">this</span>.element.innerHTML = arr.map(<span class="function"><span class="params">item</span>=&gt;</span><span class="string">`&lt;li&gt;<span class="subst">$&#123;item&#125;</span>&lt;/li&gt;`</span>).join(<span class="string">""</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj = <span class="keyword">new</span> List(<span class="built_in">document</span>.querySelector(<span class="string">"#list"</span>))</span><br><span class="line"></span><br><span class="line">obj.html = [<span class="string">"aaa"</span>,<span class="string">"bbb"</span>,<span class="string">"cccc"</span>]</span><br></pre></td></tr></table></figure>
<h6 id="18-3-静态属性和静态方法"><a href="#18-3-静态属性和静态方法" class="headerlink" title="18-3 静态属性和静态方法"></a>18-3 静态属性和静态方法</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> name = <span class="string">"Person这个类"</span></span><br><span class="line">    <span class="keyword">constructor</span>(name,age)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    say()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name,<span class="keyword">this</span>.age)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> eat()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"eat"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj = <span class="keyword">new</span> Person(<span class="string">"miller"</span>,<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(Person.name)</span><br><span class="line">Person.eat()</span><br></pre></td></tr></table></figure>
<h6 id="18-4-继承"><a href="#18-4-继承" class="headerlink" title="18-4 继承"></a>18-4 继承</h6><blockquote>
<p>ES6 规定，子类必须在<code>constructor()</code>方法中调用<code>super()</code>，否则就会报错。这是因为子类自己的<code>this</code>对象，必须先通过父类的构造函数完成塑造，得到与父类同样的实例属性和方法，然后再对其进行加工，添加子类自己的实例属性和方法。如果不调用<code>super()</code>方法，子类就得不到自己的<code>this</code>对象。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> name = <span class="string">"Person这个类"</span></span><br><span class="line">    <span class="keyword">constructor</span>(name,age)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    say()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name,<span class="keyword">this</span>.age)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> eat()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"eat"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name,age,score)&#123;</span><br><span class="line">        <span class="keyword">super</span>(name,age)</span><br><span class="line">        <span class="keyword">this</span>.score = score</span><br><span class="line">    &#125;</span><br><span class="line">    say()&#123;</span><br><span class="line">        <span class="keyword">super</span>.say()</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.score)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> eat()&#123;</span><br><span class="line">        <span class="keyword">super</span>.eat();</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"student eat"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj = <span class="keyword">new</span> Student(<span class="string">"miller"</span>,<span class="number">100</span>,<span class="number">200</span>)</span><br><span class="line"><span class="built_in">console</span>.log(obj)</span><br><span class="line">obj.say()</span><br><span class="line">Student.eat()</span><br></pre></td></tr></table></figure>
<h5 id="19-模块化"><a href="#19-模块化" class="headerlink" title="19.模块化"></a>19.模块化</h5><blockquote>
<p>JavaScript 现在有两种模块。一种是 ES6 模块，简称 ESM；另一种是 CommonJS 模块，简称 CJS。</p>
<p>CommonJS 模块是 Node.js 专用的，与 ES6 模块不兼容。语法上面，两者最明显的差异是，CommonJS 模块使用<code>require()</code>和<code>module.exports</code>，ES6 模块使用<code>import</code>和<code>export</code>。</p>
</blockquote>
<p>ES6 模块不是对象，而是通过<code>export</code>命令显式指定输出的代码，再通过<code>import</code>命令输入。</p>
<p><strong>写法1：</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> A1</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> a1 <span class="keyword">from</span> <span class="string">"./1.js"</span></span><br></pre></td></tr></table></figure>
<p><strong>写法2：</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> &#123;A1,A2&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;A1,A2&#125; <span class="keyword">from</span> <span class="string">"./1.js"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;A1 <span class="keyword">as</span> a1,A2 <span class="keyword">as</span> a2&#125; <span class="keyword">from</span> <span class="string">"./1.js"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> obj <span class="keyword">from</span> <span class="string">"./1.js"</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">A1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"A1"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">A2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"A2"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;A1,A2&#125; <span class="keyword">from</span> <span class="string">"./1.js"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;A1 <span class="keyword">as</span> a1,A2 <span class="keyword">as</span> a2&#125; <span class="keyword">from</span> <span class="string">"./1.js"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> obj <span class="keyword">from</span> <span class="string">"./1.js"</span></span><br></pre></td></tr></table></figure>
<p><strong>混合写法：</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> &#123;A1&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> A2</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> A2,&#123;A1&#125; <span class="keyword">from</span> <span class="string">"./1.js"</span></span><br></pre></td></tr></table></figure>
<h4 id="二-ES7新特性"><a href="#二-ES7新特性" class="headerlink" title="二. ES7新特性"></a>二. ES7新特性</h4><h5 id="1-求幂运算符"><a href="#1-求幂运算符" class="headerlink" title="1. 求幂运算符"></a>1. 求幂运算符</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Math</span>.pow(<span class="number">3</span>, <span class="number">2</span>) === <span class="number">3</span> ** <span class="number">2</span>    <span class="comment">// 9</span></span><br></pre></td></tr></table></figure>
<h5 id="2-数组的includes方法"><a href="#2-数组的includes方法" class="headerlink" title="2.数组的includes方法"></a>2.数组的includes方法</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="literal">NaN</span>].includes(<span class="literal">NaN</span>)     <span class="comment">// true</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="literal">NaN</span>].indexOf(<span class="literal">NaN</span>)  <span class="comment">// -1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果仅仅查找数据是否在数组中，建议使用includes，如果是查找数据的索引位置，建议使用indexOf更好一些</p>
</blockquote>
<h4 id="三-ES8新特性"><a href="#三-ES8新特性" class="headerlink" title="三. ES8新特性"></a>三. ES8新特性</h4><h5 id="1-async和await"><a href="#1-async和await" class="headerlink" title="1. async和await"></a>1. async和await</h5><h6 id="1-1-Async"><a href="#1-1-Async" class="headerlink" title="1-1.Async"></a>1-1.Async</h6><p>async 函数，使得异步操作变得更加方便。</p>
<ul>
<li>更好的语义。</li>
<li>返回值是 Promise。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line">test()</span><br></pre></td></tr></table></figure>
<h6 id="1-2-Await"><a href="#1-2-Await" class="headerlink" title="1-2.Await"></a>1-2.Await</h6><p><code>await</code>命令后面是一个 Promise 对象，返回该对象的结果。如果不是 Promise 对象，就直接返回对应的值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> res1 =  <span class="keyword">await</span> ajax(<span class="string">"http://localhost:3000/news1"</span>)</span><br><span class="line">    <span class="keyword">var</span> res2 =  <span class="keyword">await</span> ajax(<span class="string">"http://localhost:3000/news2"</span>)</span><br><span class="line">    <span class="keyword">return</span> res2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test().then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"返回结果"</span>,res)</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"err"</span>,err)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h6 id="1-3-错误处理"><a href="#1-3-错误处理" class="headerlink" title="1-3.错误处理"></a>1-3.错误处理</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> res1 =  <span class="keyword">await</span> ajax(<span class="string">"http://localhost:3000/news1"</span>)</span><br><span class="line">    <span class="keyword">var</span> res2 =  <span class="keyword">await</span> ajax(<span class="string">"http://localhost:3000/news2"</span>)</span><br><span class="line">&#125;<span class="keyword">catch</span>(err)&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"err"</span>,err)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="2-对象方法扩展"><a href="#2-对象方法扩展" class="headerlink" title="2.对象方法扩展"></a>2.对象方法扩展</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name:<span class="string">"miller"</span>,</span><br><span class="line">    age:<span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.values(obj))</span><br></pre></td></tr></table></figure>
<p><img src="/img/es6-img/image-20220920154527417.png" alt="image-20220920154527417" style="zoom:50%;float:left"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name:<span class="string">"miller"</span>,</span><br><span class="line">    age:<span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.entries(obj))</span><br></pre></td></tr></table></figure>
<p><img src="/img/es6-img/image-20220920154622530.png" alt="image-20220920154622530" style="zoom:50%;float:left"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name:<span class="string">"miller"</span>,</span><br><span class="line">    age:<span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptors(obj))</span><br></pre></td></tr></table></figure>
<p><img src="/img/es6-img/image-20220920155143538.png" alt="image-20220920155143538" style="zoom:50%;float:left"></p>
<p><strong>克隆对象</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj1 = &#123;</span><br><span class="line">    name:<span class="string">"miller"</span>,</span><br><span class="line">    age:<span class="number">100</span>,</span><br><span class="line">    location:&#123;</span><br><span class="line">        provice:<span class="string">"辽宁"</span>,</span><br><span class="line">        city:<span class="string">"大连"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//只设置city，防止破坏province</span></span><br><span class="line">    <span class="keyword">get</span> city()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.location.city</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span> city(value)&#123;</span><br><span class="line">        <span class="keyword">this</span>.location.city = value</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span> nameset(value)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = value.substring(<span class="number">0</span>,<span class="number">1</span>).toUpperCase()+value.substring(<span class="number">1</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">get</span> nameset()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptors(obj1))</span><br><span class="line"><span class="keyword">var</span> obj2=  &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Object.assign(obj2,obj1)//无法克隆 get set方法</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperties(obj2,<span class="built_in">Object</span>.getOwnPropertyDescriptors(obj1))</span><br></pre></td></tr></table></figure>
<h5 id="3-字符串填充"><a href="#3-字符串填充" class="headerlink" title="3. 字符串填充"></a>3. 字符串填充</h5><blockquote>
<p>padStart()、padEnd()方法可以使得字符串达到固定长度，有两个参数，字符串目标长度和填充内容。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str= <span class="string">"miller"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(str.padStart(<span class="number">10</span>,<span class="string">"x"</span>));<span class="comment">//xxxxmiller</span></span><br><span class="line"><span class="built_in">console</span>.log(str.padEnd(<span class="number">10</span>,<span class="string">"x"</span>));<span class="comment">//millerxxxx</span></span><br><span class="line"><span class="built_in">console</span>.log(str.padStart(<span class="number">5</span>,<span class="string">"x"</span>))<span class="comment">//miller</span></span><br><span class="line"><span class="built_in">console</span>.log(str.padEnd(<span class="number">5</span>,<span class="string">"x"</span>))<span class="comment">//miller</span></span><br></pre></td></tr></table></figure>
<h5 id="4-函数参数的末尾加逗号"><a href="#4-函数参数的末尾加逗号" class="headerlink" title="4. 函数参数的末尾加逗号"></a>4. 函数参数的末尾加逗号</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params"> a,</span></span></span><br><span class="line"><span class="function"><span class="params"> b,</span></span></span><br><span class="line"><span class="function"><span class="params"> c,</span></span></span><br><span class="line"><span class="function"><span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a,b)</span><br><span class="line">&#125;</span><br><span class="line">test(</span><br><span class="line">    <span class="number">1</span>,</span><br><span class="line">    <span class="number">2</span>,</span><br><span class="line">    <span class="number">3</span>,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>『末尾逗号』在添加新的参数、属性、元素时是有用的，你可以直接新加一行而不必给上一行再补充一个逗号，这样使版本控制工具的修改记录也更加整洁</p>
</blockquote>
<h4 id="四-ES9新特性"><a href="#四-ES9新特性" class="headerlink" title="四. ES9新特性"></a>四. ES9新特性</h4><h5 id="1-对象的剩余参数与扩展运算符"><a href="#1-对象的剩余参数与扩展运算符" class="headerlink" title="1. 对象的剩余参数与扩展运算符"></a>1. 对象的剩余参数与扩展运算符</h5><h6 id="1-1-对象的剩余参数"><a href="#1-1-对象的剩余参数" class="headerlink" title="1-1 对象的剩余参数"></a>1-1 对象的剩余参数</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name:<span class="string">"miller"</span>,</span><br><span class="line">    age:<span class="number">100</span>,</span><br><span class="line">    location:<span class="string">"dalian"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;name,...other&#125; = obj</span><br><span class="line"><span class="built_in">console</span>.log(name) <span class="comment">//miller</span></span><br><span class="line"><span class="built_in">console</span>.log(other) <span class="comment">//&#123;age: 100, location: 'dalian'&#125;</span></span><br></pre></td></tr></table></figure>
<h6 id="1-2-对象的扩展运算符"><a href="#1-2-对象的扩展运算符" class="headerlink" title="1-2 对象的扩展运算符"></a>1-2 对象的扩展运算符</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj1 = &#123;</span><br><span class="line">    name:<span class="string">"miller"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;</span><br><span class="line">    age:<span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(&#123;...obj1,...obj2&#125;)</span><br></pre></td></tr></table></figure>
<h5 id="2-正则表达式命名捕获组"><a href="#2-正则表达式命名捕获组" class="headerlink" title="2.正则表达式命名捕获组"></a>2.正则表达式命名捕获组</h5><p>JS正则表达式可以返回一个匹配的对象, 一个包含匹配字符串的类数组, 比如: 以 YYYY-MM-DD的格式解析日期，</p>
<p>这样的代码可读性很差, 并且在改变正则表达式的结构的时候很有可能就会改变匹配对象的索引</p>
<p>ES9允许使用命名捕获 ?<name> , 在打开捕获括号后立即命名</name></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">"今天是2022-10-10"</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/([0-9]&#123;4&#125;)-([0-9]&#123;2&#125;)-([0-9]&#123;2&#125;)/g</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> res1 = reg.exec(str)</span><br><span class="line"><span class="built_in">console</span>.log(res1)</span><br></pre></td></tr></table></figure>
<p><img src="/img/es6-img/image-20220921110518183.png" alt="image-20220921110518183" style="zoom:67%;float:left"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">"今天是2022-10-10"</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/(?&lt;year&gt;[0-9]&#123;4&#125;)-(?&lt;month&gt;[0-9]&#123;2&#125;)-(?&lt;day&gt;[0-9]&#123;2&#125;)/g</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> res1 = reg.exec(str)</span><br><span class="line"><span class="built_in">console</span>.log(res1)</span><br></pre></td></tr></table></figure>
<p><img src="/img/es6-img/image-20220921110644896.png" alt="image-20220921110644896" style="zoom:67%;float:left"></p>
<h5 id="3-Promise-finally"><a href="#3-Promise-finally" class="headerlink" title="3. Promise.finally()"></a>3. Promise.finally()</h5><blockquote>
<p>无论是成功还是失败, 都运行同样的代码, 比如隐藏对话框, 关闭数据连接</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ajax</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">        reject(<span class="number">1111</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//showloading</span></span><br><span class="line">ajax().then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;).catch(<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;).finally(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//hideloading</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"finally"</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h5 id="4-异步遍历器"><a href="#4-异步遍历器" class="headerlink" title="4. 异步遍历器"></a>4. 异步遍历器</h5><h6 id="4-1-同步遍历器的问题"><a href="#4-1-同步遍历器的问题" class="headerlink" title="4-1 同步遍历器的问题"></a>4-1 同步遍历器的问题</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">yield</span>  <span class="number">1111</span></span><br><span class="line">    <span class="keyword">yield</span>  <span class="number">2222</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> syncI = fn();</span><br><span class="line"><span class="built_in">console</span>.log(syncI.next())</span><br><span class="line"><span class="built_in">console</span>.log(syncI.next())</span><br><span class="line"><span class="built_in">console</span>.log(syncI.next())</span><br></pre></td></tr></table></figure>
<p><img src="/img/es6-img/image-20220921132030973.png" alt="image-20220921132030973" style="zoom:67%;float:left"></p>
<p>###### </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">yield</span>  <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span>=&gt;</span>resolve(<span class="string">"1111"</span>))</span><br><span class="line">    <span class="keyword">yield</span>  <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span>=&gt;</span>resolve(<span class="string">"2222"</span>))</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> syncI = fn();</span><br><span class="line">syncI.next().value.then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;<span class="built_in">console</span>.log(res)&#125;)</span><br><span class="line">syncI.next().value.then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;<span class="built_in">console</span>.log(res)&#125;)</span><br></pre></td></tr></table></figure>
<p><img src="/img/es6-img/image-20220921132403676.png" alt="image-20220921132403676" style="zoom:67%;float:left"></p>
<blockquote>
<p><code>value</code>属性的返回值是一个 Promise 对象，用来放置异步操作。但是这样写很麻烦，不太符合直觉，语义也比较绕。</p>
</blockquote>
<h6 id="4-2-异步遍历器生成函数"><a href="#4-2-异步遍历器生成函数" class="headerlink" title="4-2 异步遍历器生成函数"></a>4-2 异步遍历器生成函数</h6><blockquote>
<p>Generator 函数返回一个同步遍历器，异步 Generator 函数的作用，是返回一个异步遍历器对象。在语法上，异步 Generator 函数就是async函数与 Generator 函数的结合。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span>* <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">yield</span>  <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span>=&gt;</span>resolve(<span class="string">"1111"</span>))</span><br><span class="line">    <span class="keyword">yield</span>  <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span>=&gt;</span>resolve(<span class="string">"2222"</span>))</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> asyncI = fn();</span><br><span class="line"></span><br><span class="line">asyncI.next().then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res)</span><br><span class="line">    <span class="keyword">return</span> asyncI.next()</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res)</span><br><span class="line">    <span class="keyword">return</span> asyncI.next()</span><br><span class="line">&#125;)</span><br><span class="line">    .then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><img src="/img/es6-img/image-20220921132528997.png" alt="image-20220921132528997" style="zoom:67%;float:left"></p>
<h6 id="4-3-for-await-of"><a href="#4-3-for-await-of" class="headerlink" title="4-3 for await of"></a>4-3 for await of</h6><blockquote>
<p><code>for...of</code>循环用于遍历同步的 Iterator 接口。新引入的<code>for await...of</code>循环，则是用于遍历异步的 Iterator 接口。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> <span class="keyword">await</span> (<span class="keyword">let</span> i <span class="keyword">of</span> asyncI) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(i)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">test()</span><br></pre></td></tr></table></figure>
<h6 id="4-4-案例改造"><a href="#4-4-案例改造" class="headerlink" title="4-4 案例改造"></a>4-4 案例改造</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params">t</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">          setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">              resolve(t)</span><br><span class="line">          &#125;, t)</span><br><span class="line">      &#125;)</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span>* <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> timer(<span class="number">1000</span>)<span class="comment">//任务1</span></span><br><span class="line">    <span class="keyword">yield</span> timer(<span class="number">2000</span>)<span class="comment">//任务2</span></span><br><span class="line">    <span class="keyword">yield</span> timer(<span class="number">3000</span>)<span class="comment">//任务3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用一下 for await ...of</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> <span class="keyword">await</span>(<span class="keyword">const</span> val <span class="keyword">of</span> fn()) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"start"</span>,<span class="built_in">Date</span>.now())</span><br><span class="line">        <span class="built_in">console</span>.log(val);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"end"</span>,<span class="built_in">Date</span>.now())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">fn1();</span><br></pre></td></tr></table></figure>
<h6 id="4-5-nodejs用法"><a href="#4-5-nodejs用法" class="headerlink" title="4-5 nodejs用法"></a>4-5 nodejs用法</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 传统写法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params">inputFilePath</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> readStream = fs.createReadStream(</span><br><span class="line">    inputFilePath,</span><br><span class="line">    &#123; <span class="attr">encoding</span>: <span class="string">'utf8'</span>, <span class="attr">highWaterMark</span>: <span class="number">1024</span> &#125;</span><br><span class="line">  );</span><br><span class="line">  readStream.on(<span class="string">'data'</span>, (chunk) =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'&gt;&gt;&gt; '</span>+chunk);</span><br><span class="line">  &#125;);</span><br><span class="line">  readStream.on(<span class="string">'end'</span>, () =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'### DONE ###'</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 异步遍历器写法</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params">inputFilePath</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> readStream = fs.createReadStream(</span><br><span class="line">    inputFilePath,</span><br><span class="line">    &#123; <span class="attr">encoding</span>: <span class="string">'utf8'</span>, <span class="attr">highWaterMark</span>: <span class="number">1024</span> &#125;</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> <span class="keyword">await</span> (<span class="keyword">const</span> chunk <span class="keyword">of</span> readStream) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'&gt;&gt;&gt; '</span>+chunk);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'### DONE ###'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="五-ES10新特性"><a href="#五-ES10新特性" class="headerlink" title="五.ES10新特性"></a>五.ES10新特性</h4><h5 id="1-Object-fromEntries"><a href="#1-Object-fromEntries" class="headerlink" title="1. Object.fromEntries"></a>1. Object.fromEntries</h5><blockquote>
<p>Object.fromEntries()方法允许你轻松地将键值对列表转换为对象</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [[<span class="string">"name"</span>, <span class="string">"miller"</span>], [<span class="string">"age"</span>, <span class="number">100</span>]];</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.fromEntries(arr))<span class="comment">//&#123;name: 'miller', age: 100&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line">m.set(<span class="string">"name"</span>,<span class="string">"tiechui"</span>)</span><br><span class="line">m.set(<span class="string">"age"</span>,<span class="number">18</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.fromEntries(m))</span><br></pre></td></tr></table></figure>
<p><strong>用处</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str =<span class="string">"name=miller&amp;age=100"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> searchParams = <span class="keyword">new</span> URLSearchParams(str)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.fromEntries(searchParams))<span class="comment">//&#123;name: 'miller', age: '100'&#125;</span></span><br></pre></td></tr></table></figure>
<h5 id="2-trimStart-and-trimEnd"><a href="#2-trimStart-and-trimEnd" class="headerlink" title="2. trimStart() and trimEnd()"></a>2. trimStart() and trimEnd()</h5><blockquote>
<p>trimStart()和trimEnd()方法在实现与trimLeft()和trimRight()相同。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">"   miller    "</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"|"</span>+str.trimStart(str)+<span class="string">"|"</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"|"</span>+str.trimEnd(str)+<span class="string">"|"</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"|"</span>+str.trimLeft(str)+<span class="string">"|"</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"|"</span>+str.trimRight(str)+<span class="string">"|"</span>)</span><br></pre></td></tr></table></figure>
<h5 id="3-Symbol-对象的-description-属性"><a href="#3-Symbol-对象的-description-属性" class="headerlink" title="3. Symbol 对象的 description 属性"></a>3. Symbol 对象的 description 属性</h5><blockquote>
<p>为Symbol对象添加了只读属性 description ，该对象返回包含Symbol描述的字符串。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="built_in">Symbol</span>(<span class="string">"miller"</span>)</span><br><span class="line"><span class="built_in">console</span>.log(s.description) <span class="comment">//miller</span></span><br></pre></td></tr></table></figure>
<h5 id="4-可选的-catch"><a href="#4-可选的-catch" class="headerlink" title="4. 可选的 catch"></a>4. 可选的 catch</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> pro1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//执行器函数</span></span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        resolve(<span class="string">"成功的结果"</span>)</span><br><span class="line">    &#125;, <span class="number">30000</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">let</span> pro2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//执行器函数</span></span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        reject()</span><br><span class="line">    &#125;, <span class="number">2000</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">await</span> <span class="built_in">Promise</span>.race([pro1, pro2])</span><br><span class="line">    &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"不关心错误结果，网络超时"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">test()</span><br></pre></td></tr></table></figure>
<h4 id="六-ES11新特性"><a href="#六-ES11新特性" class="headerlink" title="六. ES11新特性"></a>六. ES11新特性</h4><h5 id="1-Promise-allSettled"><a href="#1-Promise-allSettled" class="headerlink" title="1. Promise.allSettled"></a>1. Promise.allSettled</h5><blockquote>
<p>Promise.allSettled() 方法返回一个在所有给定的 promise 都已经 fulfilled 或 rejected 后的 promise ，并带有一个对象数组，每个对象表示对应的 promise 结果。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promises = [ ajax(<span class="string">'/200接口'</span>), ajax(<span class="string">'/401接口'</span>) ];</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.allSettled(promises).then(<span class="function"><span class="params">results</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// 过滤出成功的请求</span></span><br><span class="line">    results.filter(<span class="function"><span class="params">item</span> =&gt;</span>item.status === <span class="string">'fulfilled'</span>);</span><br><span class="line">    过滤出失败的请求</span><br><span class="line">    results.filter(<span class="function"><span class="params">item</span>=&gt;</span> item.status === <span class="string">'rejected'</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h5 id="2-module新增"><a href="#2-module新增" class="headerlink" title="2.module新增"></a>2.module新增</h5><h6 id="2-1-动态导入-import"><a href="#2-1-动态导入-import" class="headerlink" title="2-1 动态导入 import()"></a>2-1 动态导入 import()</h6><blockquote>
<p>标准用法的 import 导入的模块是静态的，会使所有被导入的模块，在加载时就被编译（无法做到按需编译，降低首页加载速度）。有些场景中，你可能希望根据条件导入模块或者按需导入模块，这时你可以使用动态导入代替静态导入。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;button&gt;login&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">    &lt;script type="module"&gt;</span></span><br><span class="line"><span class="regexp">        let role1 = "管理员"</span></span><br><span class="line"><span class="regexp">        let role2 = "普通用户"</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">        function login()&#123;</span></span><br><span class="line"><span class="regexp">            return "普通用户"</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">        async function render(role)&#123;</span></span><br><span class="line"><span class="regexp">            if(role===role1)&#123;</span></span><br><span class="line"><span class="regexp">                let res1 = await import("./</span><span class="number">1.</span>js<span class="string">")</span></span><br><span class="line"><span class="string">                console.log(res1.default)</span></span><br><span class="line"><span class="string">            &#125;else&#123;</span></span><br><span class="line"><span class="string">                let res2 = await import("</span>./<span class="number">2.</span>js<span class="string">")</span></span><br><span class="line"><span class="string">                console.log(res2.default)</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        let obtn = document.querySelector("</span>button<span class="string">")</span></span><br><span class="line"><span class="string">        obtn.onclick = function()&#123;</span></span><br><span class="line"><span class="string">            let role = login()</span></span><br><span class="line"><span class="string">            render(role)</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br></pre></td></tr></table></figure>
<h6 id="2-2-import-meta"><a href="#2-2-import-meta" class="headerlink" title="2-2 import.meta"></a>2-2 import.meta</h6><p>import.meta 会返回一个对象，有一个 url 属性，返回当前模块的url路径，只能在模块内部使用。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"module"</span>&gt;</span><br><span class="line">        <span class="keyword">import</span> obj <span class="keyword">from</span> <span class="string">'./1.js'</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/1.js</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">console.log(import.meta)</span></span><br><span class="line"><span class="regexp">export default &#123;</span></span><br><span class="line"><span class="regexp">    </span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>
<h6 id="2-3-export-as-obj-from-‘module’"><a href="#2-3-export-as-obj-from-‘module’" class="headerlink" title="2-3 export * as obj from ‘module’"></a>2-3 export * as obj from ‘module’</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    name:<span class="string">'111111'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">test1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//2.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    name:<span class="string">"22222"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">test2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> * <span class="keyword">as</span> obj1 <span class="keyword">from</span> <span class="string">'./1.js'</span></span><br><span class="line"><span class="comment">//html</span></span><br><span class="line"> &lt;script type=<span class="string">"module"</span>&gt;</span><br><span class="line">        <span class="keyword">import</span> * <span class="keyword">as</span> obj <span class="keyword">from</span> <span class="string">'./2.js'</span></span><br><span class="line">        <span class="built_in">console</span>.log(obj)</span><br><span class="line"> &lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/es6-img/image-20220922111416681.png" alt="image-20220922111416681" style="zoom:67%;float:left;"></p>
<h5 id="3-字符串的matchAll方法"><a href="#3-字符串的matchAll方法" class="headerlink" title="3.字符串的matchAll方法"></a>3.字符串的matchAll方法</h5><blockquote>
<p>matchAll() 方法返回一个包含所有匹配正则表达式的结果的迭代器。可以使用 for…of 遍历，或者使用 展开运算符(…) 或者 Array.from 转换为数组.</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">`</span></span><br><span class="line"><span class="string">&lt;ul&gt;</span></span><br><span class="line"><span class="string">&lt;li&gt;1111&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;li&gt;2222&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;li&gt;3333&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;li&gt;4444&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;/ul&gt;</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/&lt;li&gt;(.*)&lt;\/li&gt;/g</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(str.match(reg)) </span><br><span class="line"><span class="comment">//'&lt;li&gt;1111&lt;/li&gt;', '&lt;li&gt;2222&lt;/li&gt;', '&lt;li&gt;3333&lt;/li&gt;', '&lt;li&gt;4444&lt;/li&gt;'</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">`</span></span><br><span class="line"><span class="string">&lt;ul&gt;</span></span><br><span class="line"><span class="string">&lt;li&gt;1111&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;li&gt;2222&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;li&gt;3333&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;li&gt;4444&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;/ul&gt;</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/&lt;li&gt;(.*)&lt;\/li&gt;/g</span></span><br><span class="line"><span class="keyword">let</span> match = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">while</span>(match = reg.exec(str))&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(match[<span class="number">0</span>])</span><br><span class="line">    <span class="built_in">console</span>.log(match[<span class="number">1</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">`</span></span><br><span class="line"><span class="string">&lt;ul&gt;</span></span><br><span class="line"><span class="string">&lt;li&gt;1111&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;li&gt;2222&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;li&gt;3333&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;li&gt;4444&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;/ul&gt;</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/&lt;li&gt;(.*)&lt;\/li&gt;/g</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">of</span> str.matchAll(reg))&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="4-BigInt"><a href="#4-BigInt" class="headerlink" title="4. BigInt"></a>4. BigInt</h5><blockquote>
<p>JavaScript 能够准确表示的整数范围在-2^53到2^53之间（不含两个端点），超过这个范围，无法精确表示这个值，这使得 JavaScript 不适合进行科学和金融方面的精确计算。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">9007199254740992</span> <span class="comment">//9007199254740992</span></span><br><span class="line"><span class="number">9007199254740993</span> <span class="comment">//9007199254740992</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Math</span>.pow(<span class="number">2</span>,<span class="number">53</span>) === <span class="built_in">Math</span>.pow(<span class="number">2</span>,<span class="number">53</span>)+<span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>为了与 Number 类型区别，BigInt 类型的数据必须添加后缀<code>n</code>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1234</span> <span class="comment">// 普通整数</span></span><br><span class="line"><span class="number">1234n</span> <span class="comment">// BigInt</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// BigInt 的运算</span></span><br><span class="line"><span class="number">1n</span> + <span class="number">2n</span> <span class="comment">// 3n</span></span><br></pre></td></tr></table></figure>
<h5 id="5-globalThis"><a href="#5-globalThis" class="headerlink" title="5. globalThis"></a>5. globalThis</h5><blockquote>
<p>globalThis 提供了一个标准的方式来获取不同环境下的全局 this 对象（也就是全局对象自身）。不像 window 或者 self这些属性，它确保可以在有无窗口的各种环境下正常工作。所以，你可以安心的使用 globalThis，不必担心它的运行环境。为便于记忆，你只需要记住，全局作用域中的 this 就是 globalThis。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//es6-shim</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> getGlobal = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// the only reliable means to get the global object is</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Function('return this')()</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// However, this causes CSP violations in Chrome apps.</span></span><br><span class="line"></span><br><span class="line">     <span class="keyword">if</span> (<span class="keyword">typeof</span> self !== <span class="string">'undefined'</span>) &#123; <span class="keyword">return</span> self; &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">window</span> !== <span class="string">'undefined'</span>) &#123; <span class="keyword">return</span> <span class="built_in">window</span>; &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> global !== <span class="string">'undefined'</span>) &#123; <span class="keyword">return</span> global; &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'unable to locate global object'</span>);</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> globals = getGlobal();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!globals.Reflect) &#123;</span><br><span class="line"></span><br><span class="line">defineProperty(globals, ‘<span class="built_in">Reflect</span>’, &#123;&#125;, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//以前</span></span><br><span class="line"><span class="keyword">var</span> getGlobal = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> self !== <span class="string">'undefined'</span>) &#123; <span class="keyword">return</span> self; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">window</span> !== <span class="string">'undefined'</span>) &#123; <span class="keyword">return</span> <span class="built_in">window</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> global !== <span class="string">'undefined'</span>) &#123; <span class="keyword">return</span> global; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'unable to locate global object'</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> globals = getGlobal()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (globals.document) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"进行dom操作相关"</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"不能进行dom操作"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//现在</span></span><br><span class="line"><span class="keyword">if</span> (globalThis.document) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"进行dom操作相关"</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"不能进行dom操作"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="6-空值合并运算符"><a href="#6-空值合并运算符" class="headerlink" title="6.空值合并运算符"></a>6.空值合并运算符</h5><blockquote>
<p><strong>空值合并运算符（<em>??</em>）</strong>是一个逻辑运算符。当左侧操作数为 null 或 undefined 时，其返回右侧的操作数。否则返回左侧的操作数。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name:<span class="string">"miller"</span>,</span><br><span class="line">    introduction:<span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj.introduction || <span class="string">"这个人很懒"</span>)</span><br><span class="line"><span class="built_in">console</span>.log(obj.introduction ?? <span class="string">"这个人很懒"</span>)</span><br></pre></td></tr></table></figure>
<p><strong>??和 || 的区别是什么呢?</strong></p>
<p>他们两个最大的区别就是 ’ ‘和 0，??的左侧 为 ’ ‘或者为 0 的时候，依然会返回左侧的值；</p>
<p>|| 会对左侧的数据进行boolean类型转换，所以’ ‘和 0 会被转换成false,返回右侧的值</p>
<h5 id="7-可选链操作符"><a href="#7-可选链操作符" class="headerlink" title="7.可选链操作符"></a>7.可选链操作符</h5><blockquote>
<p>可选链前面的值如果是null或undefined，则不再执行后面的，之前返回可选链前面的值</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name:<span class="string">"miller"</span>,</span><br><span class="line">    introduction:<span class="number">0</span>,</span><br><span class="line">    <span class="comment">// location:&#123;</span></span><br><span class="line">    <span class="comment">//     city:"dalian"</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj &amp;&amp; obj.location &amp;&amp; obj.location.city)</span><br><span class="line"><span class="built_in">console</span>.log(obj?.location?.city)</span><br></pre></td></tr></table></figure>
<h4 id="七-ES12新特性"><a href="#七-ES12新特性" class="headerlink" title="七. ES12新特性"></a>七. ES12新特性</h4><h5 id="1-逻辑赋值操作符"><a href="#1-逻辑赋值操作符" class="headerlink" title="1. 逻辑赋值操作符"></a>1. 逻辑赋值操作符</h5><p>逻辑赋值操作符 ??=、&amp;&amp;=、 ||=</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="literal">true</span></span><br><span class="line"><span class="keyword">let</span> b = <span class="literal">false</span></span><br><span class="line"><span class="comment">//a &amp;&amp;= b //false</span></span><br><span class="line">a ||= b ; <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(a)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name:<span class="string">"miller"</span>,           </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.introduction = obj.introduction??<span class="string">"很懒"</span></span><br><span class="line">obj.introduction??=<span class="string">"很懒"</span></span><br></pre></td></tr></table></figure>
<h5 id="2-数字分隔符"><a href="#2-数字分隔符" class="headerlink" title="2.数字分隔符"></a>2.数字分隔符</h5><p>这个新特性是为了方便程序员看代码而出现的，如果数字比较大，那么看起来就不是那么一目了然</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> num= <span class="number">123456789</span>；</span><br></pre></td></tr></table></figure>
<p>分隔符不仅可以分割十进制，也可以分割二净值或者十六净值的数据，非常好用。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> number = <span class="number">1</span>_000_000_000_000;</span><br><span class="line"><span class="keyword">const</span> binary = <span class="number">0b1010</span>_0101_1111_1101;</span><br><span class="line"><span class="keyword">const</span> hex = <span class="number">0xA1</span>_B2_C3;</span><br></pre></td></tr></table></figure>
<h5 id="3-replaceAll"><a href="#3-replaceAll" class="headerlink" title="3. replaceAll"></a>3. replaceAll</h5><blockquote>
<p>所有匹配都会被替代项替换。模式可以是字符串或正则表达式，而替换项可以是字符串或针对每次匹配执行的函数。并返回一个全新的字符串  </p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> str =</span><br><span class="line">      <span class="string">"I wish to wish the wish you wish to wish, but if you wish the wish the witch wishes, I won't wish the wish you wish to wish. "</span>;</span><br><span class="line"><span class="keyword">const</span> newStr = str.replaceAll(<span class="string">"wish"</span>, <span class="string">"miller"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(newStr);</span><br></pre></td></tr></table></figure>
<h5 id="4-Promise-any"><a href="#4-Promise-any" class="headerlink" title="4.Promise.any"></a>4.Promise.any</h5><p>只要参数实例有一个变成<code>fulfilled</code>状态，包装实例就会变成<code>fulfilled</code>状态；如果所有参数实例都变成<code>rejected</code>状态，包装实例就会变成<code>rejected</code>状态。</p>
<blockquote>
<p><code>Promise.any()</code>跟<code>Promise.race()</code>方法很像，只有一点不同，就是<code>Promise.any()</code>不会因为某个 Promise 变成<code>rejected</code>状态而结束，必须等到所有参数 Promise 变成<code>rejected</code>状态才会结束。</p>
</blockquote>
<h5 id="5-WeakRef"><a href="#5-WeakRef" class="headerlink" title="5. WeakRef"></a>5. WeakRef</h5><blockquote>
<p>在一般情况下，对象的引用是强引用的，这意味着只要持有对象的引用，它就不会被垃圾回收。只有当该对象没有任何的强引用时，垃圾回收才会销毁该对象并且回收该对象所占的内存空间。</p>
<p>而 <code>WeakRef</code> 允许您保留对另一个对象的弱引用，而不会阻止被弱引用对象被垃圾回收。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> target = &#123;&#125;;</span><br><span class="line"><span class="keyword">let</span> wr = <span class="keyword">new</span> WeakRef(target);</span><br></pre></td></tr></table></figure>
<p>WeakRef 实例对象有一个<code>deref()</code>方法，如果原始对象存在，该方法返回原始对象；如果原始对象已经被垃圾回收机制清除，该方法返回<code>undefined</code>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> target = &#123;&#125;;</span><br><span class="line"><span class="keyword">let</span> wr = <span class="keyword">new</span> WeakRef(target);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = wr.deref();</span><br><span class="line"><span class="keyword">if</span> (obj) &#123; <span class="comment">// target 未被垃圾回收机制清除</span></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> like = <span class="keyword">new</span> WeakRef(<span class="built_in">document</span>.getElementById(<span class="string">"like"</span>))</span><br><span class="line"><span class="keyword">let</span> mymap = <span class="keyword">new</span> <span class="built_in">WeakMap</span>()</span><br><span class="line">mymap.set(like.deref(), &#123;</span><br><span class="line">    click: <span class="number">0</span></span><br><span class="line">&#125;)</span><br><span class="line">like.deref().onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> times = mymap.get(like.deref())</span><br><span class="line">    times.click++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">document</span>.body.removeChild(like.deref())</span><br><span class="line">&#125;, <span class="number">2000</span>)</span><br></pre></td></tr></table></figure>
<h5 id="6-FinalizationRegistry"><a href="#6-FinalizationRegistry" class="headerlink" title="6. FinalizationRegistry"></a>6. FinalizationRegistry</h5><blockquote>
<p>清理器注册表功能 FinalizationRegistry，用来指定目标对象被垃圾回收机制清除以后，所要执行的回调函数。</p>
</blockquote>
<p>首先，新建一个注册表实例。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> registry = <span class="keyword">new</span> FinalizationRegistry(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// ....</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">registry.register(obj, <span class="string">"some value"</span>);</span><br><span class="line">registry.unregister(obj);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> like = <span class="keyword">new</span> WeakRef(<span class="built_in">document</span>.getElementById(<span class="string">"like"</span>))</span><br><span class="line"><span class="keyword">let</span> mymap = <span class="keyword">new</span> <span class="built_in">WeakMap</span>()</span><br><span class="line">mymap.set(like.deref(), &#123;</span><br><span class="line">    click: <span class="number">0</span></span><br><span class="line">&#125;)</span><br><span class="line">like.deref().onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> times = mymap.get(like.deref())</span><br><span class="line">    times.click++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// registry.register(document.getElementById("like"), mymap.get(like.deref()));</span></span><br><span class="line">    registry.register(like.deref(), mymap.get(like.deref()));</span><br><span class="line"></span><br><span class="line">    <span class="built_in">document</span>.body.removeChild(like.deref())</span><br><span class="line">&#125;, <span class="number">2000</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> registry = <span class="keyword">new</span> FinalizationRegistry(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// ....</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"被销毁了"</span>, data)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="八-ES13新特性"><a href="#八-ES13新特性" class="headerlink" title="八.ES13新特性"></a>八.ES13新特性</h4><h5 id="1-私有属性和方法"><a href="#1-私有属性和方法" class="headerlink" title="1. 私有属性和方法"></a>1. 私有属性和方法</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cache</span></span>&#123;</span><br><span class="line">    #obj  =&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">get</span>(key)&#123;</span><br><span class="line">        return this.#obj[key]</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">set</span>(key,value)&#123;</span><br><span class="line">    this.#obj[key] =value</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> cache = <span class="keyword">new</span> Cache()</span><br><span class="line">cache.set(<span class="string">"name"</span>,<span class="string">"miller"</span>)</span><br></pre></td></tr></table></figure>
<h5 id="2-静态成员的私有属性和方法"><a href="#2-静态成员的私有属性和方法" class="headerlink" title="2.静态成员的私有属性和方法"></a>2.静态成员的私有属性和方法</h5><blockquote>
<p>我们还可以给类定义静态成员和静态私有函数。类的静态方法可以使用<code>this</code>关键字访问其他的私有或者公有静态成员，</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Cache</span></span>&#123;</span><br><span class="line">     static #count = 0;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">static</span> getCount()&#123;</span><br><span class="line">         return this.#count</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">    #obj  =&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">get</span>(key)&#123;</span><br><span class="line">        return this.#obj[key]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">set</span>(key,value)&#123;</span><br><span class="line">        this.#obj[key] =value</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> cache = <span class="keyword">new</span> Cache()</span><br><span class="line">cache.set(<span class="string">"name"</span>,<span class="string">"miller"</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(Cache.getCount())</span><br></pre></td></tr></table></figure>
<h5 id="3-静态代码块"><a href="#3-静态代码块" class="headerlink" title="3.静态代码块"></a>3.静态代码块</h5><blockquote>
<p>ES13允许在类中通过<code>static</code>关键字定义一系列静态代码块，这些代码块只会在类被创造的时候<strong>执行一次</strong>。这其实有点像一些其他的如C#和Java等面向对象的编程语言的静态构造函数的用法。</p>
</blockquote>
<p>一个类可以定义任意多的静态代码块，这些代码块会和穿插在它们之间的静态成员变量一起按照定义的顺序在类初始化的时候执行一次。我们还可以使用<code>super</code>关键字来访问父类的属性。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Cache</span></span>&#123;</span><br><span class="line">    <span class="keyword">static</span> obj = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.obj.set(<span class="string">"name"</span>,<span class="string">"miller"</span>)</span><br><span class="line">        <span class="keyword">this</span>.obj.set(<span class="string">"age"</span>,<span class="number">100</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.obj)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(Cache.obj)</span><br></pre></td></tr></table></figure>
<h5 id="4-使用in来判断某个对象是否拥有某个私有属性"><a href="#4-使用in来判断某个对象是否拥有某个私有属性" class="headerlink" title="4. 使用in来判断某个对象是否拥有某个私有属性"></a>4. 使用in来判断某个对象是否拥有某个私有属性</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cache</span> </span>&#123;</span><br><span class="line">    #obj = &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">get</span>(key) &#123;</span><br><span class="line">        return this.#obj[key]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">set</span>(key, value) &#123;</span><br><span class="line">        this.#obj[key] = value</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    hasObj()&#123;</span><br><span class="line">        return #obj in this</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> cache = <span class="keyword">new</span> Cache()</span><br><span class="line"><span class="built_in">console</span>.log(cache.hasObj())</span><br></pre></td></tr></table></figure>
<h5 id="5-支持在最外层写await"><a href="#5-支持在最外层写await" class="headerlink" title="5.支持在最外层写await"></a>5.支持在最外层写await</h5><blockquote>
<p>顶层<code>await</code>只能用在 ES6 模块，不能用在 CommonJS 模块。这是因为 CommonJS 模块的<code>require()</code>是同步加载，如果有顶层<code>await</code>，就没法处理加载了。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"module"</span>&gt;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">ajax</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            resolve(<span class="string">"data-1111"</span>);</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> res = <span class="keyword">await</span> ajax();</span><br><span class="line"><span class="built_in">console</span>.log(res)</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="6-at函数来索引元素"><a href="#6-at函数来索引元素" class="headerlink" title="6. at函数来索引元素"></a>6. at函数来索引元素</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">"miller"</span>,<span class="string">"tiechui"</span>,<span class="string">"gangdan"</span>,<span class="string">"xiaoming"</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr[<span class="number">1</span>])</span><br><span class="line"><span class="built_in">console</span>.log(arr[arr.length<span class="number">-1</span>]) <span class="comment">//变丑了</span></span><br><span class="line"><span class="built_in">console</span>.log(arr[arr.length<span class="number">-2</span>]) <span class="comment">//变丑了</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr.at(<span class="number">1</span>))</span><br><span class="line"><span class="built_in">console</span>.log(arr.at(<span class="number">-1</span>))</span><br><span class="line"><span class="built_in">console</span>.log(arr.at(<span class="number">-2</span>))</span><br></pre></td></tr></table></figure>
<h5 id="7-正则匹配的开始和结束索引"><a href="#7-正则匹配的开始和结束索引" class="headerlink" title="7. 正则匹配的开始和结束索引"></a>7. 正则匹配的开始和结束索引</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">"今天是2022-11-10"</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/(?&lt;year&gt;[0-9]&#123;4&#125;)-(?&lt;month&gt;[0-9]&#123;2&#125;)-(?&lt;day&gt;[0-9]&#123;2&#125;)/</span>d</span><br><span class="line"></span><br><span class="line"><span class="comment">//exec</span></span><br><span class="line"><span class="keyword">let</span> res = reg.exec(str)</span><br><span class="line"><span class="built_in">console</span>.log(res)</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/es6-img/image-20220927105243515.png" alt="image-20220927105243515" title="">
                </div>
                <div class="image-caption">image-20220927105243515</div>
            </figure>
<h5 id="8-findLast-和findLastIndex-函数"><a href="#8-findLast-和findLastIndex-函数" class="headerlink" title="8.findLast()和findLastIndex()函数"></a>8.findLast()和findLastIndex()函数</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// let res = arr.find(function(value)&#123;</span></span><br><span class="line"><span class="comment">//   return value % 2 === 0</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line"><span class="comment">// let res = arr.findIndex(function(value)&#123;</span></span><br><span class="line"><span class="comment">//   return value % 2 === 0</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line"><span class="comment">// let res = arr.findLast(function(value)&#123;</span></span><br><span class="line"><span class="comment">//   return value % 2 === 0</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line"><span class="keyword">let</span> res = arr.findLastIndex(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> value % <span class="number">2</span> === <span class="number">0</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(res)</span><br></pre></td></tr></table></figure>
<h5 id="9-Error对象的Cause属性"><a href="#9-Error对象的Cause属性" class="headerlink" title="9.Error对象的Cause属性"></a>9.Error对象的Cause属性</h5><blockquote>
<p>Error对象多了一个<code>cause</code>属性来指明错误出现的原因。这个属性可以帮助我们为错误添加更多的上下文信息，从而帮助使用者们更好地定位错误。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getData</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(miller)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span>(e)&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'New error 1111111'</span>,&#123;<span class="attr">cause</span>:<span class="string">"这是因为,,,,,,,,,"</span>&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    getData()</span><br><span class="line">&#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e.cause)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

        </div>

        
<blockquote class="post-copyright">
    <div class="content">
        

        
    </div>
    <footer>
        <a href="https://hanjinbao.cn">
            <img src="/img/avatar.jpeg" alt="Mr.Han">
            Mr.Han
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://hanjinbao.cn/2022/11/12/ES6/&title=《ES6》 — 人间客栈&pic=https://hanjinbao.cn/2022/11/12/ES6//img/avatar.jpeg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://hanjinbao.cn/2022/11/12/ES6/&title=《ES6》 — 人间客栈&source=我的个人静态博客" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://hanjinbao.cn/2022/11/12/ES6/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《ES6》 — 人间客栈&url=https://hanjinbao.cn/2022/11/12/ES6/&via=https://hanjinbao.cn/2022/11/12/ES6/" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://hanjinbao.cn/2022/11/12/ES6/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2022/11/12/网络协议01-通信协议综述/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">网络协议01-通信协议综述</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2022/11/11/requestAnimationFrame/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">requestAnimationFrame</h4>
      </a>
    </div>
  
</nav>



    

<div class="comments" id="comments">
    <div class="ds-thread" data-thread-key="ES6" data-title="ES6" data-url="https://hanjinbao.cn/2022/11/12/ES6/"></div>
</div>
<script>
lazyScripts.push('//cdn.bootcss.com/marked/0.3.6/marked.min.js');
// 
var duoshuoQuery = {short_name:'ysblog', theme: 'none'};
// lazyScripts.push('/js/embed.min.js?v=1.4.7');


</script>







</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        您吉祥 ~
        <i class="icon icon-quote-right"></i>
    </h3>
    <ul class="reward-items">
        
        <li>
            <img src="/img/wechat.jpg" title="微信打赏二维码" alt="微信打赏二维码">
            <p>微信</p>
        </li>
        

        
        <li>
            <img src="/img/alipay.jpg" title="支付宝打赏二维码" alt="支付宝打赏二维码">
            <p>支付宝</p>
        </li>
        
    </ul>
</div>



</div>

        <footer class="footer">
    <div class="bottom">
        <p>
            <span>人间客栈 &copy; 2015 - 2022</span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://hanjinbao.cn/2022/11/12/ES6/&title=《ES6》 — 人间客栈&pic=https://hanjinbao.cn/2022/11/12/ES6//img/avatar.jpeg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://hanjinbao.cn/2022/11/12/ES6/&title=《ES6》 — 人间客栈&source=我的个人静态博客" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://hanjinbao.cn/2022/11/12/ES6/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《ES6》 — 人间客栈&url=https://hanjinbao.cn/2022/11/12/ES6/&via=https://hanjinbao.cn/2022/11/12/ES6/" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://hanjinbao.cn/2022/11/12/ES6/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK4AAACuCAAAAACKZ2kyAAAByUlEQVR42u3aS27DMAwFwNz/0i7QVTa2H0lZSYDRKkgDadQFwY9er3gd/+v98/s3yS/zHRYsXFzcMfe4XGeIs4PPKMme1wZcXNz93ElISuj5v+PGhouL+2Xc3vVW7YmLi/ud3Lzsud4ZFxf3V7hJCtIrcpLLPFKr4eLiDri9hunaz4/3d3FxcRdNJebN017YOj0dFxd3C7datCRpR5Ik5SnUa1Jj4eLitrjXZUb1yCQbydslpyEMFxf3YW5S6swfXc0HqzdoXFzcpdxVj6Umfy2MbXBxcT/EvQ4lPUq183l6Li4u7hZutdSpDk3zAW2z4MHFxd3CrY4/5wdXmya4uLhPc/MmRe+RVhV000DBxcXdwq2WOtVhSV7eFKIWLi7uw9zJYHU+PikPV3Bxcbdw81Kn2hJNxiR5ewUXF3cn94hX72VU9fI3IRIXF3cjNylm5g3WXijExcX9FLcXzo7BWjAHxsXFfYzbK2Dy4Ue1yJkPfXFxcVdx86CTbD2/6k1KhIuLu5GbNzpXlUy9BisuLu63ca8PnoxaC20UXFzcH+HmCUr+aOPUhouLu5FbbW72EqPJxXBxcXdyew3Taqs0uV4hnOHi4j7F/QNm4d1EY563nQAAAABJRU5ErkJggg==" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };
// 


</script>

<script src="/js/main.min.js?v=1.4.7"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.4.7" async></script>






</body>
</html>
